import{_ as n,c as a,b as p,o as e}from"./app-sk3OtiNe.js";const t={};function o(l,s){return e(),a("div",null,s[0]||(s[0]=[p(`<h1 id="csv" tabindex="-1"><a class="header-anchor" href="#csv"><span>CSV</span></a></h1><details><summary>原始CSV内容：</summary><div class="language-csv line-numbers-mode" data-highlighter="prismjs" data-ext="csv"><pre><code><span class="line"><span class="token value">Category</span><span class="token punctuation">,</span><span class="token value">Name</span><span class="token punctuation">,</span><span class="token value">Description</span><span class="token punctuation">,</span><span class="token value">PowerLevel</span></span>
<span class="line"><span class="token value">装备</span><span class="token punctuation">,</span><span class="token value">铜云棒</span><span class="token punctuation">,</span><span class="token value">一根结实的青铜棒，挥舞时能发出破空之声，适合近战攻击。</span><span class="token punctuation">,</span><span class="token value">85</span></span>
<span class="line"><span class="token value">装备</span><span class="token punctuation">,</span><span class="token value">百戏衬钱衣</span><span class="token punctuation">,</span><span class="token value">一件精美的战斗铠甲，能够提供强大的防御并抵御剧毒伤害。</span><span class="token punctuation">,</span><span class="token value">90</span></span>
<span class="line"><span class="token value">技能</span><span class="token punctuation">,</span><span class="token value">天雷击</span><span class="token punctuation">,</span><span class="token value">召唤天雷攻击敌人，造成大范围雷电伤害。</span><span class="token punctuation">,</span><span class="token value">95</span></span>
<span class="line"><span class="token value">技能</span><span class="token punctuation">,</span><span class="token value">火焰舞</span><span class="token punctuation">,</span><span class="token value">施展火焰舞步，将敌人包围在炽热的火焰之中。</span><span class="token punctuation">,</span><span class="token value">92</span></span>
<span class="line"><span class="token value">人物</span><span class="token punctuation">,</span><span class="token value">悟空</span><span class="token punctuation">,</span><span class="token value">主角，拥有七十二变和腾云驾雾的能力，行侠仗义。</span><span class="token punctuation">,</span><span class="token value">100</span></span>
<span class="line"><span class="token value">人物</span><span class="token punctuation">,</span><span class="token value">银角大王</span><span class="token punctuation">,</span><span class="token value">强大的妖王之一，擅长操控各种法宝，具有极高的战斗力。</span><span class="token punctuation">,</span><span class="token value">88</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="csvloader" tabindex="-1"><a class="header-anchor" href="#csvloader"><span>CSVLoader</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p><a href="https://python.langchain.com/api_reference/community/document_loaders/langchain_community.document_loaders.csv_loader.CSVLoader.html" target="_blank" rel="noopener noreferrer">CSVLoader 文档</a></p></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>document_loaders <span class="token keyword">import</span> CSVLoader</span>
<span class="line"></span>
<span class="line">data_loader <span class="token operator">=</span> CSVLoader<span class="token punctuation">(</span></span>
<span class="line">  file_path<span class="token operator">=</span><span class="token string">&quot;data/黑悟空/黑神话悟空.csv&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  content_columns<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;名称&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;描述&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment"># 只加载这两列</span></span>
<span class="line">  csv_args<span class="token operator">=</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;fieldnames&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;名称&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;描述&quot;</span><span class="token punctuation">]</span> <span class="token comment"># 自定义列名</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">documents <span class="token operator">=</span> data_loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> document <span class="token keyword">in</span> documents<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token keyword">print</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>page_content<span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">名称: Category</span>
<span class="line">描述: Name</span>
<span class="line">==================================================</span>
<span class="line">名称: 装备</span>
<span class="line">描述: 铜云棒</span>
<span class="line">==================================================</span>
<span class="line">名称: 装备</span>
<span class="line">描述: 百戏衬钱衣</span>
<span class="line">==================================================</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="directoryloader" tabindex="-1"><a class="header-anchor" href="#directoryloader"><span>DirectoryLoader</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p><a href="https://python.langchain.com/api_reference/community/document_loaders/langchain_community.document_loaders.directory.DirectoryLoader.html" target="_blank" rel="noopener noreferrer">DirectoryLoader 文档</a></p></div><p>可以使用<code>DirectoryLoader</code> + <code>CSVLoader</code>批量加载<code>.csv</code>文件。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>document_loaders <span class="token keyword">import</span> DirectoryLoader<span class="token punctuation">,</span> CSVLoader</span>
<span class="line"></span>
<span class="line">data_loader <span class="token operator">=</span> DirectoryLoader<span class="token punctuation">(</span></span>
<span class="line">  path<span class="token operator">=</span><span class="token string">&quot;./data/灭神纪&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  glob<span class="token operator">=</span><span class="token string">&quot;**/*.csv&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  loader_cls<span class="token operator">=</span><span class="token keyword">lambda</span> path<span class="token punctuation">:</span> CSVLoader<span class="token punctuation">(</span></span>
<span class="line">    path<span class="token punctuation">,</span></span>
<span class="line">    encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">documents <span class="token operator">=</span> data_loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;文档数据总数：</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>documents<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="unstructuredcsvloader" tabindex="-1"><a class="header-anchor" href="#unstructuredcsvloader"><span>UnstructuredCSVLoader</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p><a href="https://python.langchain.com/api_reference/community/document_loaders/langchain_community.document_loaders.csv_loader.UnstructuredCSVLoader.html" target="_blank" rel="noopener noreferrer">UnstructuredCSVLoader 文档</a></p></div><p>可以使用<code>UnstructuredCSVLoader</code>把<code>.csv</code>文件转换为<code>html</code>结构：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> langchain_community<span class="token punctuation">.</span>document_loaders <span class="token keyword">import</span> UnstructuredCSVLoader</span>
<span class="line"></span>
<span class="line">data_loader <span class="token operator">=</span> UnstructuredCSVLoader<span class="token punctuation">(</span></span>
<span class="line">  file_path<span class="token operator">=</span><span class="token string">&quot;./data/黑悟空/黑神话悟空.csv&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  mode<span class="token operator">=</span><span class="token string">&quot;elements&quot;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">documents <span class="token operator">=</span> data_loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>documents<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>metadata<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;text_as_html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token operator">&lt;</span>table<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>Category<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>Name<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>Description<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>PowerLevel<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>装备<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>铜云棒<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>一根结实的青铜棒，挥舞时能发出破空之声，适合近战攻击。<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token number">85</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>装备<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>百戏衬钱 衣<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>一件精美的战斗铠甲，能够提供强大的防御并抵御剧毒伤害。<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token number">90</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>技能<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>天雷击<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>召唤天雷攻击敌人，造成大范围雷电伤害。<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token number">95</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>技能<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>火焰舞<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>施展火焰 舞步，将敌人包围在炽热的火焰之中。<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token number">92</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>人物<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>悟空<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>主角，拥有七十二变和腾云驾雾的能力，行侠仗义。<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token number">100</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>人物<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>银角大王<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>强大的妖王之一，擅长操控各种法 宝，具有极高的战斗力。<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token number">88</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17)]))}const r=n(t,[["render",o]]),i=JSON.parse('{"path":"/rag/loader/csv/","title":"CSV","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1748077236000,"contributors":[{"name":"wangtunan","username":"wangtunan","email":"why583440138@gmail.com","commits":1,"url":"https://github.com/wangtunan"}],"changelog":[{"hash":"39b42b192b8c3b88514c25ae05d25b5730600f69","time":1748077236000,"email":"why583440138@gmail.com","author":"wangtunan","message":"blog RAG结构化文档Embedding文章撰写"}]},"filePathRelative":"rag/loader/csv/README.md"}');export{r as comp,i as data};
