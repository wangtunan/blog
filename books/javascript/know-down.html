<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/blog/icon.png"><script>var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?1876f64fd31c9aba1a7a5e157813a075";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();</script><title>你不知道的javascript中 | 汪图南</title><meta name="description" content="汪图南的个人博客">
    <link rel="preload" href="/blog/assets/style-f02c9fe4.css" as="style"><link rel="stylesheet" href="/blog/assets/style-f02c9fe4.css">
    <link rel="modulepreload" href="/blog/assets/app-4e2da491.js"><link rel="modulepreload" href="/blog/assets/know-down.html-3fb8501b.js"><link rel="modulepreload" href="/blog/assets/know-down.html-67bdddf4.js"><link rel="prefetch" href="/blog/assets/index.html-df590abb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-07fb0424.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-32e815ef.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b33c5b57.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5953f980.js" as="script"><link rel="prefetch" href="/blog/assets/vueTest.html-fccd3191.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-a7bcef23.js" as="script"><link rel="prefetch" href="/blog/assets/challenge.html-1fa5c42c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-223a3c39.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1cce87cb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ce451a4b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-928da998.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-af7fc6e5.js" as="script"><link rel="prefetch" href="/blog/assets/algorithm.html-1c4e0c11.js" as="script"><link rel="prefetch" href="/blog/assets/es6.html-4e8ad52b.js" as="script"><link rel="prefetch" href="/blog/assets/know-up.html-26eed22c.js" as="script"><link rel="prefetch" href="/blog/assets/red-book.html-8814ccd2.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-704bd051.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-93de6755.js" as="script"><link rel="prefetch" href="/blog/assets/gin.html-e90402ca.js" as="script"><link rel="prefetch" href="/blog/assets/gorm.html-7ce891c4.js" as="script"><link rel="prefetch" href="/blog/assets/mod.html-d3cc04b1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5e5c2c5d.js" as="script"><link rel="prefetch" href="/blog/assets/codegen.html-c4e68b0d.js" as="script"><link rel="prefetch" href="/blog/assets/compileToFunctions.html-dd212192.js" as="script"><link rel="prefetch" href="/blog/assets/optimize.html-b1e543f2.js" as="script"><link rel="prefetch" href="/blog/assets/parse.html-9c2abe00.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-49fb3acb.js" as="script"><link rel="prefetch" href="/blog/assets/async.html-07565831.js" as="script"><link rel="prefetch" href="/blog/assets/createComponent.html-7b396a71.js" as="script"><link rel="prefetch" href="/blog/assets/createElement.html-2ba7d24c.js" as="script"><link rel="prefetch" href="/blog/assets/lifecycle.html-6b0b7c6e.js" as="script"><link rel="prefetch" href="/blog/assets/merge.html-511eb5fb.js" as="script"><link rel="prefetch" href="/blog/assets/mount.html-84f07dbb.js" as="script"><link rel="prefetch" href="/blog/assets/patch.html-3c27dbbc.js" as="script"><link rel="prefetch" href="/blog/assets/register.html-39031bfb.js" as="script"><link rel="prefetch" href="/blog/assets/render.html-e3477fd4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ace0b1ee.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6f1fb87d.js" as="script"><link rel="prefetch" href="/blog/assets/diff.html-ba4408dc.js" as="script"><link rel="prefetch" href="/blog/assets/vnode.html-15656e7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4961fbe2.js" as="script"><link rel="prefetch" href="/blog/assets/events.html-11b2c327.js" as="script"><link rel="prefetch" href="/blog/assets/global.html-5889344a.js" as="script"><link rel="prefetch" href="/blog/assets/init.html-851c152f.js" as="script"><link rel="prefetch" href="/blog/assets/lifecycle.html-5e69d398.js" as="script"><link rel="prefetch" href="/blog/assets/render.html-ea235dba.js" as="script"><link rel="prefetch" href="/blog/assets/state.html-d14d6b66.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c71a5d58.js" as="script"><link rel="prefetch" href="/blog/assets/directive.html-d3d311d9.js" as="script"><link rel="prefetch" href="/blog/assets/event.html-3e84a71a.js" as="script"><link rel="prefetch" href="/blog/assets/filter.html-7b5830a8.js" as="script"><link rel="prefetch" href="/blog/assets/keep-alive.html-605e317b.js" as="script"><link rel="prefetch" href="/blog/assets/plugin.html-6622adeb.js" as="script"><link rel="prefetch" href="/blog/assets/slot.html-8f06e10a.js" as="script"><link rel="prefetch" href="/blog/assets/transition-group.html-dcf5ec49.js" as="script"><link rel="prefetch" href="/blog/assets/transition.html-732ec537.js" as="script"><link rel="prefetch" href="/blog/assets/vmodel.html-14724c25.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4f57a248.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ef232b45.js" as="script"><link rel="prefetch" href="/blog/assets/api.html-9475caf1.js" as="script"><link rel="prefetch" href="/blog/assets/computed.html-6c99abe4.js" as="script"><link rel="prefetch" href="/blog/assets/data.html-09a6337a.js" as="script"><link rel="prefetch" href="/blog/assets/dep.html-a8c09077.js" as="script"><link rel="prefetch" href="/blog/assets/methods.html-ee1f489f.js" as="script"><link rel="prefetch" href="/blog/assets/nexttick.html-e116d9f7.js" as="script"><link rel="prefetch" href="/blog/assets/notify.html-bd0607d9.js" as="script"><link rel="prefetch" href="/blog/assets/prepare.html-a04b77db.js" as="script"><link rel="prefetch" href="/blog/assets/problem.html-1782d9bf.js" as="script"><link rel="prefetch" href="/blog/assets/props.html-c8520423.js" as="script"><link rel="prefetch" href="/blog/assets/reactive.html-37695ecf.js" as="script"><link rel="prefetch" href="/blog/assets/watch.html-c0e5301c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c3051e6d.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-36b7cfb7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a9027c01.js" as="script"><link rel="prefetch" href="/blog/assets/change.html-0b19282a.js" as="script"><link rel="prefetch" href="/blog/assets/components.html-2c43c490.js" as="script"><link rel="prefetch" href="/blog/assets/hooks.html-5be16514.js" as="script"><link rel="prefetch" href="/blog/assets/install.html-8f43be65.js" as="script"><link rel="prefetch" href="/blog/assets/matcher.html-d7130186.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3d9c1929.js" as="script"><link rel="prefetch" href="/blog/assets/api.html-ecf9d1ad.js" as="script"><link rel="prefetch" href="/blog/assets/init.html-be8be9f7.js" as="script"><link rel="prefetch" href="/blog/assets/install.html-604fba0f.js" as="script"><link rel="prefetch" href="/blog/assets/utils.html-262847b4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a5314574.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-427092b8.js" as="script"><link rel="prefetch" href="/blog/assets/createApp.html-033ac3b1.js" as="script"><link rel="prefetch" href="/blog/assets/lifecycle.html-7f5eefa5.js" as="script"><link rel="prefetch" href="/blog/assets/mount.html-18ac0a0c.js" as="script"><link rel="prefetch" href="/blog/assets/register.html-43f9a277.js" as="script"><link rel="prefetch" href="/blog/assets/render.html-19c7f6f2.js" as="script"><link rel="prefetch" href="/blog/assets/setup.html-8f80b62b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7ffcc5f8.js" as="script"><link rel="prefetch" href="/blog/assets/optimization.html-c2a3ee91.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-025865b1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b9b746dd.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-b9195505.js" as="script"><link rel="prefetch" href="/blog/assets/computed.html-9b98b5b3.js" as="script"><link rel="prefetch" href="/blog/assets/reactive.html-74c63812.js" as="script"><link rel="prefetch" href="/blog/assets/readonly.html-199a8a96.js" as="script"><link rel="prefetch" href="/blog/assets/ref.html-6f5379e9.js" as="script"><link rel="prefetch" href="/blog/assets/track.html-cb182495.js" as="script"><link rel="prefetch" href="/blog/assets/trigger.html-95edf479.js" as="script"><link rel="prefetch" href="/blog/assets/watch.html-18746281.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0f316dbe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f294089f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-51f5b0b6.js" as="script"><link rel="prefetch" href="/blog/assets/advanced.html-5a1536d9.js" as="script"><link rel="prefetch" href="/blog/assets/case.html-85da95ca.js" as="script"><link rel="prefetch" href="/blog/assets/core.html-991ec0c0.js" as="script"><link rel="prefetch" href="/blog/assets/install.html-c0ba7293.js" as="script"><link rel="prefetch" href="/blog/assets/loader.html-697abf9a.js" as="script"><link rel="prefetch" href="/blog/assets/optimization.html-82b16a2f.js" as="script"><link rel="prefetch" href="/blog/assets/plugin.html-34277c50.js" as="script"><link rel="prefetch" href="/blog/assets/source.html-60dd27a8.js" as="script"><link rel="prefetch" href="/blog/assets/start.html-f13654ac.js" as="script"><link rel="prefetch" href="/blog/assets/static.html-e92b23bc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4fee0027.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4fdb79df.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b7e10947.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-12c62fa6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-54396d61.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cdb7134d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fbf603cc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3bb78f78.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ce227704.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e48a3fdd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d851a631.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2f9e5179.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d7c457ef.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-16c49e8f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fbb0dfdf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0420953a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0a87eaa4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-da79edfc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-531dddaf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-73c7e148.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6846483a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-dd1f5f87.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-10a978d2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-21361330.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5e14090d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-73698235.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-48bd711a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a3d488f0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-139c71b2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ff714a8f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5e28e216.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3dc9100c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ce6ece08.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-71d47698.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2d9b8e7c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cf826857.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9ceb897e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-99467e87.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6c4bade5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-516dfbbd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9d9af54b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a6184fff.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-da1b4091.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-65b1ccbd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-bdb1359b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-54fb6c23.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3d096ac4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ea2629cf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-98f1a1d7.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0ce306c9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0ad42e2c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-59ba3cfb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3ae0f528.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-27f3e13b.js" as="script"><link rel="prefetch" href="/blog/assets/vueTest.html-aa95d2d9.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-21b9b984.js" as="script"><link rel="prefetch" href="/blog/assets/challenge.html-5a2e3cf3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-55dec368.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3ef3f039.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f8cf6cfd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-90efa272.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6e16ddfc.js" as="script"><link rel="prefetch" href="/blog/assets/algorithm.html-66ea5305.js" as="script"><link rel="prefetch" href="/blog/assets/es6.html-5e2d4079.js" as="script"><link rel="prefetch" href="/blog/assets/know-up.html-3b1477f4.js" as="script"><link rel="prefetch" href="/blog/assets/red-book.html-5c5a8699.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-021630a1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b458b036.js" as="script"><link rel="prefetch" href="/blog/assets/gin.html-8b617700.js" as="script"><link rel="prefetch" href="/blog/assets/gorm.html-940da2b7.js" as="script"><link rel="prefetch" href="/blog/assets/mod.html-a9b81983.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-aed1a078.js" as="script"><link rel="prefetch" href="/blog/assets/codegen.html-8c32e772.js" as="script"><link rel="prefetch" href="/blog/assets/compileToFunctions.html-f9a5318b.js" as="script"><link rel="prefetch" href="/blog/assets/optimize.html-3b60424f.js" as="script"><link rel="prefetch" href="/blog/assets/parse.html-bb7ee39e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a50aee50.js" as="script"><link rel="prefetch" href="/blog/assets/async.html-2219a472.js" as="script"><link rel="prefetch" href="/blog/assets/createComponent.html-60d45eb3.js" as="script"><link rel="prefetch" href="/blog/assets/createElement.html-70596c74.js" as="script"><link rel="prefetch" href="/blog/assets/lifecycle.html-7295ac63.js" as="script"><link rel="prefetch" href="/blog/assets/merge.html-1daca169.js" as="script"><link rel="prefetch" href="/blog/assets/mount.html-d5eb576a.js" as="script"><link rel="prefetch" href="/blog/assets/patch.html-5f40ee59.js" as="script"><link rel="prefetch" href="/blog/assets/register.html-ab8f68fd.js" as="script"><link rel="prefetch" href="/blog/assets/render.html-fabd9d19.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d6ce028f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ce268dbb.js" as="script"><link rel="prefetch" href="/blog/assets/diff.html-8c7fe40d.js" as="script"><link rel="prefetch" href="/blog/assets/vnode.html-ae3ab363.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-954f916a.js" as="script"><link rel="prefetch" href="/blog/assets/events.html-67146a27.js" as="script"><link rel="prefetch" href="/blog/assets/global.html-377066c6.js" as="script"><link rel="prefetch" href="/blog/assets/init.html-09673449.js" as="script"><link rel="prefetch" href="/blog/assets/lifecycle.html-ec21e734.js" as="script"><link rel="prefetch" href="/blog/assets/render.html-df5176d0.js" as="script"><link rel="prefetch" href="/blog/assets/state.html-077d4f7f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-55674b11.js" as="script"><link rel="prefetch" href="/blog/assets/directive.html-5e76ea1b.js" as="script"><link rel="prefetch" href="/blog/assets/event.html-46363a7c.js" as="script"><link rel="prefetch" href="/blog/assets/filter.html-26cb16e4.js" as="script"><link rel="prefetch" href="/blog/assets/keep-alive.html-585a2e5b.js" as="script"><link rel="prefetch" href="/blog/assets/plugin.html-19ef7d51.js" as="script"><link rel="prefetch" href="/blog/assets/slot.html-bc76c70d.js" as="script"><link rel="prefetch" href="/blog/assets/transition-group.html-b2137191.js" as="script"><link rel="prefetch" href="/blog/assets/transition.html-ab2a5d01.js" as="script"><link rel="prefetch" href="/blog/assets/vmodel.html-eb5df31e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-eb18ebc5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-271d6a83.js" as="script"><link rel="prefetch" href="/blog/assets/api.html-d6dbf885.js" as="script"><link rel="prefetch" href="/blog/assets/computed.html-6eb1777e.js" as="script"><link rel="prefetch" href="/blog/assets/data.html-9c0e2365.js" as="script"><link rel="prefetch" href="/blog/assets/dep.html-14573d00.js" as="script"><link rel="prefetch" href="/blog/assets/methods.html-6484ca47.js" as="script"><link rel="prefetch" href="/blog/assets/nexttick.html-253026a8.js" as="script"><link rel="prefetch" href="/blog/assets/notify.html-b8bd293a.js" as="script"><link rel="prefetch" href="/blog/assets/prepare.html-6a04a439.js" as="script"><link rel="prefetch" href="/blog/assets/problem.html-8e2bf3f8.js" as="script"><link rel="prefetch" href="/blog/assets/props.html-9c64f240.js" as="script"><link rel="prefetch" href="/blog/assets/reactive.html-1f05d6e8.js" as="script"><link rel="prefetch" href="/blog/assets/watch.html-b1d215b9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2b664766.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-7d30b6aa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5e366882.js" as="script"><link rel="prefetch" href="/blog/assets/change.html-8194f1a8.js" as="script"><link rel="prefetch" href="/blog/assets/components.html-c8265ba9.js" as="script"><link rel="prefetch" href="/blog/assets/hooks.html-f1ebf59e.js" as="script"><link rel="prefetch" href="/blog/assets/install.html-5f214494.js" as="script"><link rel="prefetch" href="/blog/assets/matcher.html-9f2b24ef.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-45815134.js" as="script"><link rel="prefetch" href="/blog/assets/api.html-064302ea.js" as="script"><link rel="prefetch" href="/blog/assets/init.html-8b049338.js" as="script"><link rel="prefetch" href="/blog/assets/install.html-06937adc.js" as="script"><link rel="prefetch" href="/blog/assets/utils.html-dff96d8e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-afeb9d72.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4177d267.js" as="script"><link rel="prefetch" href="/blog/assets/createApp.html-f099d6c3.js" as="script"><link rel="prefetch" href="/blog/assets/lifecycle.html-807d8801.js" as="script"><link rel="prefetch" href="/blog/assets/mount.html-0b911bad.js" as="script"><link rel="prefetch" href="/blog/assets/register.html-21bc6652.js" as="script"><link rel="prefetch" href="/blog/assets/render.html-2bc87175.js" as="script"><link rel="prefetch" href="/blog/assets/setup.html-0e74ece4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-689ca875.js" as="script"><link rel="prefetch" href="/blog/assets/optimization.html-80d032c2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9bef3ff8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cafc93f6.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-3b967b6e.js" as="script"><link rel="prefetch" href="/blog/assets/computed.html-a845fa45.js" as="script"><link rel="prefetch" href="/blog/assets/reactive.html-f6d4bfd9.js" as="script"><link rel="prefetch" href="/blog/assets/readonly.html-714fcdfb.js" as="script"><link rel="prefetch" href="/blog/assets/ref.html-cd499b40.js" as="script"><link rel="prefetch" href="/blog/assets/track.html-85192cfc.js" as="script"><link rel="prefetch" href="/blog/assets/trigger.html-404b7928.js" as="script"><link rel="prefetch" href="/blog/assets/watch.html-b39180ae.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2f3e1c19.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-05c923cb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d0c9eccb.js" as="script"><link rel="prefetch" href="/blog/assets/advanced.html-e9ab64c9.js" as="script"><link rel="prefetch" href="/blog/assets/case.html-5a7bd88c.js" as="script"><link rel="prefetch" href="/blog/assets/core.html-11afd6e9.js" as="script"><link rel="prefetch" href="/blog/assets/install.html-2bff3479.js" as="script"><link rel="prefetch" href="/blog/assets/loader.html-55f17490.js" as="script"><link rel="prefetch" href="/blog/assets/optimization.html-25a7fd28.js" as="script"><link rel="prefetch" href="/blog/assets/plugin.html-cfe2760e.js" as="script"><link rel="prefetch" href="/blog/assets/source.html-a7291400.js" as="script"><link rel="prefetch" href="/blog/assets/start.html-3c064561.js" as="script"><link rel="prefetch" href="/blog/assets/static.html-5cd9be1b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9104930a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-32f1cf51.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d35e2065.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-22164dab.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6cd7c856.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f9a840db.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c8a332dc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6c451b40.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-084eb76f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-03d91514.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-55439530.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5f085772.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4ee6d431.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-acf4bf71.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-395322d5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d46d20f0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6ddfadbc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4fd46078.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d0456801.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-20e9e72d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b35637e9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b43c9cb6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-859255b9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e02c2a11.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a9c5e910.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-08da9ec1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-333e8b37.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2dc3189b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-eb354300.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6adac26e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b13629d9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4c74e048.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-190bb953.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-848caef6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-870f4b2b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-68339ea3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c47260de.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2e4ecfea.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-39696aa8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-27bc4f8a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5bf6be79.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6f6ec20f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-68902ccd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1503e4aa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4c055dfd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-83ecdadc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-04f0d7ee.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b67dae2c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1285c31a.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-73482cc7.js" as="script"><link rel="prefetch" href="/blog/assets/leetcodeLink-bfc7ec6a.js" as="script"><link rel="prefetch" href="/blog/assets/linkAndSolution-759c51ee.js" as="script"><link rel="prefetch" href="/blog/assets/giscus-8d5a43f1.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container" data-v-e3e878f2><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><!----><span class="site-name">汪图南</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/blog/interview/" class="" aria-label="前端面试之道"><!--[--><!--]--> 前端面试之道 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端技术栈"><span class="title">前端技术栈</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端技术栈"><span class="title">前端技术栈</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>打包工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/webpack/webpack/" class="" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/rollup/" class="" aria-label="Rollup"><!--[--><!--]--> Rollup <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>TypeScript</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/typescript/base" class="" aria-label="TypeScript基础"><!--[--><!--]--> TypeScript基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/typescript/challenge" class="" aria-label="TypeScript类型挑战"><!--[--><!--]--> TypeScript类型挑战 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>CSS预编译器</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/cssPrecompiler/sass/" class="" aria-label="SASS"><!--[--><!--]--> SASS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>自动化测试</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/test/vueTest" class="" aria-label="Vue应用测试"><!--[--><!--]--> Vue应用测试 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue源码分析"><span class="title">Vue源码分析</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue源码分析"><span class="title">Vue源码分析</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/vueAnalysis/introduction/" class="" aria-label="Vue2.0源码分析"><!--[--><!--]--> Vue2.0源码分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/vueNextAnalysis/introduction/" class="" aria-label="Vue3.0源码分析"><!--[--><!--]--> Vue3.0源码分析 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/algorithm/base/introduction/" class="" aria-label="数据结构和算法(基础)"><!--[--><!--]--> 数据结构和算法(基础) <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/algorithm/leetcode/introduction" class="" aria-label="LeetCode(刷题)"><!--[--><!--]--> LeetCode(刷题) <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Golang"><span class="title">Golang</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Golang"><span class="title">Golang</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/golang/base" class="" aria-label="Go基础"><!--[--><!--]--> Go基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Go框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/golang/framework/gin" class="" aria-label="Gin"><!--[--><!--]--> Gin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/golang/framework/gorm" class="" aria-label="Gorm"><!--[--><!--]--> Gorm <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Go工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/golang/mod" class="" aria-label="Go Modules"><!--[--><!--]--> Go Modules <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="书籍"><span class="title">书籍</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="书籍"><span class="title">书籍</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>JavaScript书籍</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/books/javascript/know-up" class="" aria-label="你不知道的JavaScript(上)"><!--[--><!--]--> 你不知道的JavaScript(上) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/books/javascript/know-down" class="router-link-active" aria-label="你不知道的JavaScript(中下)"><!--[--><!--]--> 你不知道的JavaScript(中下) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/books/javascript/algorithm" class="" aria-label="JavaScript数据结构和算法"><!--[--><!--]--> JavaScript数据结构和算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/designPattern/" class="" aria-label="JavaScript设计模式与开发实践"><!--[--><!--]--> JavaScript设计模式与开发实践 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/books/javascript/es6" class="" aria-label="深入理解ES6"><!--[--><!--]--> 深入理解ES6 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Git书籍</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/books/git/" class="" aria-label="精通Git"><!--[--><!--]--> 精通Git <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/wangtunan/blog" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/blog/interview/" class="" aria-label="前端面试之道"><!--[--><!--]--> 前端面试之道 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端技术栈"><span class="title">前端技术栈</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端技术栈"><span class="title">前端技术栈</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>打包工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/webpack/webpack/" class="" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/rollup/" class="" aria-label="Rollup"><!--[--><!--]--> Rollup <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>TypeScript</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/typescript/base" class="" aria-label="TypeScript基础"><!--[--><!--]--> TypeScript基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/typescript/challenge" class="" aria-label="TypeScript类型挑战"><!--[--><!--]--> TypeScript类型挑战 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>CSS预编译器</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/cssPrecompiler/sass/" class="" aria-label="SASS"><!--[--><!--]--> SASS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>自动化测试</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/test/vueTest" class="" aria-label="Vue应用测试"><!--[--><!--]--> Vue应用测试 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue源码分析"><span class="title">Vue源码分析</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue源码分析"><span class="title">Vue源码分析</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/vueAnalysis/introduction/" class="" aria-label="Vue2.0源码分析"><!--[--><!--]--> Vue2.0源码分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/vueNextAnalysis/introduction/" class="" aria-label="Vue3.0源码分析"><!--[--><!--]--> Vue3.0源码分析 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/algorithm/base/introduction/" class="" aria-label="数据结构和算法(基础)"><!--[--><!--]--> 数据结构和算法(基础) <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/algorithm/leetcode/introduction" class="" aria-label="LeetCode(刷题)"><!--[--><!--]--> LeetCode(刷题) <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Golang"><span class="title">Golang</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Golang"><span class="title">Golang</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/golang/base" class="" aria-label="Go基础"><!--[--><!--]--> Go基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Go框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/golang/framework/gin" class="" aria-label="Gin"><!--[--><!--]--> Gin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/golang/framework/gorm" class="" aria-label="Gorm"><!--[--><!--]--> Gorm <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Go工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/golang/mod" class="" aria-label="Go Modules"><!--[--><!--]--> Go Modules <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="书籍"><span class="title">书籍</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="书籍"><span class="title">书籍</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>JavaScript书籍</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/books/javascript/know-up" class="" aria-label="你不知道的JavaScript(上)"><!--[--><!--]--> 你不知道的JavaScript(上) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/books/javascript/know-down" class="router-link-active" aria-label="你不知道的JavaScript(中下)"><!--[--><!--]--> 你不知道的JavaScript(中下) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/books/javascript/algorithm" class="" aria-label="JavaScript数据结构和算法"><!--[--><!--]--> JavaScript数据结构和算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/designPattern/" class="" aria-label="JavaScript设计模式与开发实践"><!--[--><!--]--> JavaScript设计模式与开发实践 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/blog/books/javascript/es6" class="" aria-label="深入理解ES6"><!--[--><!--]--> 深入理解ES6 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Git书籍</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/blog/books/git/" class="" aria-label="精通Git"><!--[--><!--]--> 精通Git <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/wangtunan/blog" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">你不知道的javascript中 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/books/javascript/know-down.html#类型和语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="类型和语法"><!--[--><!--]--> 类型和语法 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/books/javascript/know-down.html#七种内置类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="七种内置类型"><!--[--><!--]--> 七种内置类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#数组" class="router-link-active router-link-exact-active sidebar-item" aria-label="数组"><!--[--><!--]--> 数组 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#字符串和字符数组" class="router-link-active router-link-exact-active sidebar-item" aria-label="字符串和字符数组"><!--[--><!--]--> 字符串和字符数组 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#十种原生函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="十种原生函数"><!--[--><!--]--> 十种原生函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#强制类型转换" class="router-link-active router-link-exact-active sidebar-item" aria-label="强制类型转换"><!--[--><!--]--> 强制类型转换 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#异步" class="router-link-active router-link-exact-active sidebar-item" aria-label="异步"><!--[--><!--]--> 异步 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/books/javascript/know-down.html#分块的程序" class="router-link-active router-link-exact-active sidebar-item" aria-label="分块的程序"><!--[--><!--]--> 分块的程序 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#无法理解的console-log函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="无法理解的console.log函数"><!--[--><!--]--> 无法理解的console.log函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#为什么settimeout不精准" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么setTimeout不精准"><!--[--><!--]--> 为什么setTimeout不精准 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#es6" class="router-link-active router-link-exact-active sidebar-item" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/books/javascript/know-down.html#let和const" class="router-link-active router-link-exact-active sidebar-item" aria-label="let和const"><!--[--><!--]--> let和const <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#扩展-收缩运算符" class="router-link-active router-link-exact-active sidebar-item" aria-label="扩展/收缩运算符"><!--[--><!--]--> 扩展/收缩运算符 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#参数设置默认值" class="router-link-active router-link-exact-active sidebar-item" aria-label="参数设置默认值"><!--[--><!--]--> 参数设置默认值 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#解构" class="router-link-active router-link-exact-active sidebar-item" aria-label="解构"><!--[--><!--]--> 解构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#对象字面量扩展" class="router-link-active router-link-exact-active sidebar-item" aria-label="对象字面量扩展"><!--[--><!--]--> 对象字面量扩展 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#字符串模板" class="router-link-active router-link-exact-active sidebar-item" aria-label="字符串模板"><!--[--><!--]--> 字符串模板 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#箭头函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="箭头函数"><!--[--><!--]--> 箭头函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#迭代器" class="router-link-active router-link-exact-active sidebar-item" aria-label="迭代器"><!--[--><!--]--> 迭代器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#生成器" class="router-link-active router-link-exact-active sidebar-item" aria-label="生成器"><!--[--><!--]--> 生成器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#promise" class="router-link-active router-link-exact-active sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#map和weakmap" class="router-link-active router-link-exact-active sidebar-item" aria-label="Map和WeakMap"><!--[--><!--]--> Map和WeakMap <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#set和weakset" class="router-link-active router-link-exact-active sidebar-item" aria-label="Set和WeakSet"><!--[--><!--]--> Set和WeakSet <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#array新增api" class="router-link-active router-link-exact-active sidebar-item" aria-label="Array新增API"><!--[--><!--]--> Array新增API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#object新增api" class="router-link-active router-link-exact-active sidebar-item" aria-label="Object新增API"><!--[--><!--]--> Object新增API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#number新增api" class="router-link-active router-link-exact-active sidebar-item" aria-label="Number新增API"><!--[--><!--]--> Number新增API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/books/javascript/know-down.html#string新增api" class="router-link-active router-link-exact-active sidebar-item" aria-label="String新增API"><!--[--><!--]--> String新增API <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="你不知道的javascript中" tabindex="-1"><a class="header-anchor" href="#你不知道的javascript中" aria-hidden="true">#</a> 你不知道的javascript中</h1><h2 id="类型和语法" tabindex="-1"><a class="header-anchor" href="#类型和语法" aria-hidden="true">#</a> 类型和语法</h2><h3 id="七种内置类型" tabindex="-1"><a class="header-anchor" href="#七种内置类型" aria-hidden="true">#</a> 七种内置类型</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>ES5 6种<br> ES6 新增1种</p></div><ol><li>number(数字类型)</li><li>string(字符串类型)</li><li>bool(布尔类型)</li><li>null(空值)</li><li>undefined(未定义)</li><li>object(对象)</li><li>symbol(符号)</li></ol><h3 id="数组" tabindex="-1"><a class="header-anchor" href="#数组" aria-hidden="true">#</a> 数组</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>数组可以存放任意类型的值：数字，字符串，布尔，对象，甚至是另一个数组。</p></div><h4 id="稀疏数组" tabindex="-1"><a class="header-anchor" href="#稀疏数组" aria-hidden="true">#</a> 稀疏数组</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><strong>稀疏数组</strong>：数组中含有空白或者空缺单元的数组。</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 稀疏数组</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出 undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 3</span>
</code></pre></div><h4 id="类数组" tabindex="-1"><a class="header-anchor" href="#类数组" aria-hidden="true">#</a> 类数组</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><strong>类数组</strong>：与数组的结果类似，但并不是真正的数组。</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 类数组的案例</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// arguments就是类数组</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="类数组转成真正的数组" tabindex="-1"><a class="header-anchor" href="#类数组转成真正的数组" aria-hidden="true">#</a> 类数组转成真正的数组</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Array.prototype.slice()</code>工具函数转</li><li><code>Array.from()</code>ES6新方法转</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 类数组转真正数组的案例</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> arr2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  arr2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 输出[1, 2, 3]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 输出[1, 2, 4]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="字符串和字符数组" tabindex="-1"><a class="header-anchor" href="#字符串和字符数组" aria-hidden="true">#</a> 字符串和字符数组</h3><h4 id="相似之处" tabindex="-1"><a class="header-anchor" href="#相似之处" aria-hidden="true">#</a> 相似之处</h4><ol><li>都是类数组</li><li>都有<code>length</code>属性</li><li>都有<code>indexOf</code>，<code>concat</code>方法</li></ol><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 字符串和字符的相似之处</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;f&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出3</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;r&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出foobar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出[&#39;f&#39;,&#39;o&#39;,&#39;o&#39;,&#39;b&#39;,&#39;a&#39;,&#39;r&#39;]</span>
</code></pre></div><h4 id="为什么字符串不可变" tabindex="-1"><a class="header-anchor" href="#为什么字符串不可变" aria-hidden="true">#</a> 为什么字符串不可变</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>字符串不可变：意思是字符串的成员函数不会改变原始的值，而是创建并返回一个新的字符串。</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 字符串的不可变性</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出foobar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出foo</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出FOO</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出foo</span>
</code></pre></div><h4 id="字符串借用数组的方法" tabindex="-1"><a class="header-anchor" href="#字符串借用数组的方法" aria-hidden="true">#</a> 字符串借用数组的方法</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 字符串借用数组的方法</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token string">&#39;-&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出f-o-o</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出F.O.O.</span>
</code></pre></div><h4 id="字符串借用数组方法反转" tabindex="-1"><a class="header-anchor" href="#字符串借用数组方法反转" aria-hidden="true">#</a> 字符串借用数组方法反转</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 最暴力的字符串反转方法</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出yhw</span>
</code></pre></div><h3 id="十种原生函数" tabindex="-1"><a class="header-anchor" href="#十种原生函数" aria-hidden="true">#</a> 十种原生函数</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>ES5 9种<br> ES6 新增1种</p></div><ol><li>String()</li><li>Number()</li><li>Boolean()</li><li>Array()</li><li>Function()</li><li>Object()</li><li>RegExp()</li><li>Date()</li><li>Error()</li><li>Symbol() (ES6新增)</li></ol><h4 id="原生函数的运用" tabindex="-1"><a class="header-anchor" href="#原生函数的运用" aria-hidden="true">#</a> 原生函数的运用</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 原生函数的运用</span>
<span class="token keyword">var</span> strObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> strObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出Object</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出abc</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strObj<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出String {0:&#39;a&#39;,1:&#39;b&#39;,2:&#39;c&#39;,length:3}</span>
</code></pre></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>再次强调：利用原生函数创建的是一个封装对象，而非其基本类型的值</p></div><h4 id="class-内部属性" tabindex="-1"><a class="header-anchor" href="#class-内部属性" aria-hidden="true">#</a> [[CLASS]]内部属性</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>所有<code>typeof</code>返回<code>object</code>的对象，都有一个内部属性，这个属性无法访问，一般通过<code>Object.prototype.toString.call()</code>访问</li><li><code>null</code>和<code>undefined</code>虽然没有其对应的原生构造函数，但其内部<code>[[CLASS]]</code>依然是<code>Null</code>和<code>Undefined</code></li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 内部属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出[object Array]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出[object String]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 输出[object Number]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 输出[object Null]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出[object Undefined]</span>
</code></pre></div><h4 id="封装对象的封装和拆封" tabindex="-1"><a class="header-anchor" href="#封装对象的封装和拆封" aria-hidden="true">#</a> 封装对象的封装和拆封</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>基本类型值会自动封装成一个封装对象</li><li>封装对象永远返回的是一个对象，其布尔值为<code>true</code>，即使是对<code>false</code>值进行的封装的对象，其布尔值也是<code>true</code></li><li>获取封装对象中的基本类型值，用<code>valueOf()</code>函数</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 封装对象的封装和拆封</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 输出3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出ABC</span>

<span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;执行不到这里，因为flag为封装对象，其布尔值为true&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出abc</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出123</span>
</code></pre></div><h3 id="强制类型转换" tabindex="-1"><a class="header-anchor" href="#强制类型转换" aria-hidden="true">#</a> 强制类型转换</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><strong>显示强制类型转换</strong>：发生在静态类型语言的编译阶段<br><strong>隐式强制类型转换</strong>：发生在动态语言的运行时</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 两种强制类型转换</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>      <span class="token comment">// 隐式强制类型转换</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 显示强制类型转换</span>
</code></pre></div><h4 id="tostring类型转换规则" tabindex="-1"><a class="header-anchor" href="#tostring类型转换规则" aria-hidden="true">#</a> ToString类型转换规则</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>数字按照规则转换成对应的字符串格式</li><li><code>null</code>转换成字符串<code>null</code></li><li><code>undefined</code>转换成字符串<code>undefined</code></li><li>布尔值转换成对应的字符串格式，<code>true</code>转换成字符串<code>true</code>,<code>false</code>转换成字符串<code>false</code></li><li>数组，将所有单元以<code>,</code>号连接起来</li><li>对象，如果对象没有重新定义其<code>toString()</code>方法，返回其对应的内部属性<code>[[CLASS]]</code>的值，如<code>[object Object]</code></li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ToString类型转换的规则</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;www&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;AAA&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">11</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 输出42</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 输出null </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 输出undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 输出1,2,3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出12，f对象重新定义了toString()方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出[object Object]，返回的是h对象的内部属性[[CLASS]]的值</span>
</code></pre></div><h4 id="json字符串化" tabindex="-1"><a class="header-anchor" href="#json字符串化" aria-hidden="true">#</a> JSON字符串化</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>数字字符串化为其对应的字符串格式</li><li>字符串字符串化为其对应的字符串格式，但有两对引号，其中一对是字符串本身的</li><li>布尔字符串为其对应的字符串格式</li><li><code>null</code>字符串化为<code>&quot;null&quot;</code></li><li>数组字符串化为其对应的字符串化格式，例如<code>[1,2,3]</code>字符串化为<code>&quot;[1,2,3]&quot;</code></li><li><code>undefined</code>、函数<code>function</code>和<code>symbol</code>会自动忽略，变成<code>undefined</code>，如果在数组中，则返回<code>null</code>以保证数组中单元位置不变</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// JSON字符串化</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;42&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;&quot;abc&quot;&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;true&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;null&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;[1,2,3]&quot;</span>

<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHello</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    consoel<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 忽略，变成undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 忽略数组第二项，第三项 输出&quot;[1,null,null,4]&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 忽略对象中的方法，sayHello属性不字符串化，输出&quot;{&quot;name&quot;:&#39;why&#39;,&quot;age&quot;: 12}&quot;</span>
</code></pre></div><h4 id="json字符串化对象" tabindex="-1"><a class="header-anchor" href="#json字符串化对象" aria-hidden="true">#</a> JSON字符串化对象</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>未定义其<code>toJSON</code>方法，则按正常规则进行序列化</li><li>定义了其<code>toJSON</code>方法，则按具体定义<code>toJSON()</code>方法的返回值来进行序列化</li></ol></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>对象的字符串化方法<code>toJSON()</code>并不是直接返回字符串化的值，而是返回一个能够被JSON字符串化的一个JSON安全的值，最后通过<code>JSON.stringify()</code>来字符串化</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 对象的字符串化</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toJSON</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 只字符串化name属性，age属性不</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{&quot;name&quot;:&quot;why&quot;,&quot;age&quot;:12}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{&quot;name&quot;:&quot;why&quot;}</span>
</code></pre></div><h4 id="json字符串化参数运用" tabindex="-1"><a class="header-anchor" href="#json字符串化参数运用" aria-hidden="true">#</a> JSON字符串化参数运用</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li>第一个可选参数：可以是一个数组或者一个函数，用来指定对象序列化过程中，哪些属性应该被处理，哪些属性应该被排斥。当参数为数组时，只序列化数组中的属性；当参数为函数时，函数返回什么就序列化什么。</li><li>第二个可选参数：用来指定输出的缩进格式，不常用</li></ul></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// JSON字符串格式化参数的运用</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">&#39;42&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> result1 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result2 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token operator">!==</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{&quot;a&quot;:&quot;42&quot;,&quot;b&quot;:&quot;42&quot;,&quot;d&quot;:&quot;[1,2,3]&quot;}}(给什么输出什么)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{&quot;a&quot;:&quot;42&quot;,&quot;b&quot;:&quot;42&quot;,&quot;d&quot;:&quot;[1,2,3]&quot;}}(返回什么输出什么)</span>
</code></pre></div><h4 id="tonumber转换规则" tabindex="-1"><a class="header-anchor" href="#tonumber转换规则" aria-hidden="true">#</a> ToNumber转换规则</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>true</code>转换为1</li><li><code>false</code>转换为0</li><li>空字符串转换为0，非空字符串转换为1</li><li>null转换为0，undefined转换为NaN</li><li>对象或者数组，先查找<code>valueOf()</code>再查找<code>toString()</code>，都没有则报<code>TypeError</code>错误</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ToNumber转换规则</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">24</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
h<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出42，先判断valueOf()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出42,没有valueOf()时，判断toString()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出123</span>
</code></pre></div><h4 id="toboolean转换规则" tabindex="-1"><a class="header-anchor" href="#toboolean转换规则" aria-hidden="true">#</a> ToBoolean转换规则</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><strong>假值</strong>：可以被强制类型转换为false的值<br><strong>真值</strong>：其他<br></p></div><div class="custom-container tip"><p class="custom-container-title">JS规范假值表</p><ol><li><code>undefined</code></li><li><code>null</code></li><li><code>false</code></li><li><code>+0 -0</code>和NaN</li><li>空字符串</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ToBoolean转换规则</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&#39;false&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;k&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出fasle</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出true</span>
</code></pre></div><h4 id="显示强制类型转换-字符串与数字之间" tabindex="-1"><a class="header-anchor" href="#显示强制类型转换-字符串与数字之间" aria-hidden="true">#</a> 显示强制类型转换(字符串与数字之间)</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>数字转字符串用<code>String()</code>方法，没有使用<code>new</code></li><li>字符串转数字用<code>Number()</code>方法，没有使用<code>new</code></li><li>其他方法</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 字符串与数字之间的强制类型转换</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token string">&quot;3.14&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;42&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出3.14</span>
</code></pre></div><h5 id="字符串与数字之间转换的其他方法" tabindex="-1"><a class="header-anchor" href="#字符串与数字之间转换的其他方法" aria-hidden="true">#</a> 字符串与数字之间转换的其他方法</h5><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 字符串与数字之间转换的其他方法</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 隐式类型转换，创建一个封装对象</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token string">&quot;3.14&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token operator">+</span>c<span class="token punctuation">;</span> <span class="token comment">// 一元运算符，显示转换为数字类型</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;42&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出3.14</span>
</code></pre></div><h4 id="显示转换为布尔值" tabindex="-1"><a class="header-anchor" href="#显示转换为布尔值" aria-hidden="true">#</a> 显示转换为布尔值</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>其他类型转换为布尔值时，使用<code>Boolean()</code>，没有使用<code>new</code>操作符</li><li>其他方法</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 其他类型值转换为布尔值</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token string">&#39;false&#39;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出true</span>
</code></pre></div><h5 id="显示转换为布尔值的其他方法" tabindex="-1"><a class="header-anchor" href="#显示转换为布尔值的其他方法" aria-hidden="true">#</a> 显示转换为布尔值的其他方法</h5><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 显示转换为布尔值的其他方法</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token operator">!</span>a<span class="token punctuation">;</span>     <span class="token comment">// !一元运算符，显示强制类型转换，将其真值转换为假值，假值转换为真值</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token operator">!</span>b<span class="token punctuation">;</span>

<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>a<span class="token punctuation">;</span>    <span class="token comment">// !!二元运算符，在!一元运算符的基础上，把值再次取反</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>b<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出false</span>
</code></pre></div><h4 id="隐式强制类型转换" tabindex="-1"><a class="header-anchor" href="#隐式强制类型转换" aria-hidden="true">#</a> 隐式强制类型转换</h4><h4 id="隐式强制类型转换形式一-运算符" tabindex="-1"><a class="header-anchor" href="#隐式强制类型转换形式一-运算符" aria-hidden="true">#</a> 隐式强制类型转换形式一：运算符</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>运算符<code>+</code>可以隐式将数字转换为字符串</li><li>运算符<code>-</code>可以隐式的将字符串转换为数字</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 隐式强制类型转换形式一：运算符</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> c <span class="token operator">-</span> <span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;420&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出420</span>

<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> g <span class="token operator">=</span> e <span class="token operator">+</span> f<span class="token punctuation">;</span>
<span class="token comment">// 输出1,23,4 数组相加时，会隐式的调用数组的valueOf()或者toString()</span>
<span class="token comment">// e.toString() =&gt; &quot;1,2&quot;</span>
<span class="token comment">// f.toString() =&gt; &quot;3,4&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 提问一 i==j 或者j==i中 是数字转换成字符串再进行比较；还是字符串转换成数字，再进行比较</span>
<span class="token comment">// 解答：ES5规范定义：数字==字符串 判断是，是字符串转换成数字，再和数字比较</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token operator">==</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token operator">==</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 提问二：数字==布尔值时，是数字转出布尔值，再进行判断；还是布尔值转成数字，再进行判断</span>
<span class="token comment">// 解答：ES5规范：数字==布尔值时，是布尔值转换成对应的数字，再和数字比较(true:1,false:0)</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> q <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token operator">==</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="隐式强制类型转换形式一-隐式转换为布尔值" tabindex="-1"><a class="header-anchor" href="#隐式强制类型转换形式一-隐式转换为布尔值" aria-hidden="true">#</a> 隐式强制类型转换形式一：隐式转换为布尔值</h4><div class="custom-container tip"><p class="custom-container-title">隐式转换为布尔值的情况</p><ol><li><code>if</code>语句的条件判断</li><li><code>for循环的第二条条件判断语句</code></li><li><code>do..while</code>和<code>while</code>循环的循环判断条件</li><li><code>?:</code>三元运算符</li><li><code>||</code>和<code>&amp;&amp;</code>逻辑运算符</li></ol></div><div class="custom-container tip"><p class="custom-container-title">注意</p><p><code>||</code>和<code>&amp;&amp;</code>逻辑操作符返回的不一定是布尔值，而是两个数中的其中一个数</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// || 和 &amp;&amp; 逻辑运算符的返回值</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">&amp;&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;abc&quot;，a为真，直接返回第二个数，不管第二个数为真还是为假</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token operator">&amp;&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出42，规则同上</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">||</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出42，a为真，直接返回第一个数，不管第二个数为真还是为假</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token operator">||</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;abc&quot;,规则同上</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token operator">&amp;&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出false，c为假，直接返回第一个数，不管第二个数为真还是为假</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token operator">||</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出&quot;abc&quot;，c为假，直接返回第二个数，不管是真还是假</span>
</code></pre></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 三元运算符和逻辑操作符的大致关系</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">// a||b 大致相当于 a?a:b</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">||</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出42</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">?</span>a<span class="token operator">:</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出42</span>

<span class="token comment">// a&amp;&amp;b 大致相当于 a?b:a</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">&amp;&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">?</span>b<span class="token operator">:</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出false</span>
</code></pre></div><h4 id="隐式强制类型转换形式一-符号" tabindex="-1"><a class="header-anchor" href="#隐式强制类型转换形式一-符号" aria-hidden="true">#</a> 隐式强制类型转换形式一：符号</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>==</code>宽松相等：只判断值是否相等</li><li><code>===</code>严格相等不仅判断值，还要判断类型</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 隐式强制类型转换形式一：符号</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">===</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出false，a为数字类型，b为字符串类型</span>
</code></pre></div><h4 id="逻辑运算符-扩展运用" tabindex="-1"><a class="header-anchor" href="#逻辑运算符-扩展运用" aria-hidden="true">#</a> 逻辑运算符<code>&amp;&amp;</code>扩展运用</h4><h5 id="提问" tabindex="-1"><a class="header-anchor" href="#提问" aria-hidden="true">#</a> 提问</h5><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 提问：如何让下面的判断成立，输出ok</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a<span class="token operator">==</span><span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="解答" tabindex="-1"><a class="header-anchor" href="#解答" aria-hidden="true">#</a> 解答</h5><div class="custom-container tip"><p class="custom-container-title">技巧点</p><p>改写<code>Number.prototype.valueOf</code>方法，已达到每一次调用<code>valueOf</code>方法时，自增其变量</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 情况一:当a为数字时</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">// 情况一关键点：改写Number.prototype.valueOf方法</span>
<span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a<span class="token operator">==</span><span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 情况二：当a为对象时</span>
<span class="token comment">// 情况二关键点：定义对象自己的valueOf方法</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a<span class="token operator">==</span><span class="token number">2</span> <span class="token operator">&amp;&amp;</span>a<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="异步" tabindex="-1"><a class="header-anchor" href="#异步" aria-hidden="true">#</a> 异步</h2><h3 id="分块的程序" tabindex="-1"><a class="header-anchor" href="#分块的程序" aria-hidden="true">#</a> 分块的程序</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>现在执行的块程序</li><li>将来执行的块程序</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 分块的程序</span>
<span class="token keyword">function</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">21</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">later</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  answer <span class="token operator">=</span> answer <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;later:&#39;</span> <span class="token operator">+</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> answer <span class="token operator">=</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">later</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 现在执行的块：</span>
<span class="token keyword">function</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">21</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">later</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> answer <span class="token operator">=</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">later</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将来执行的块：</span>
answer <span class="token operator">=</span> answer <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;later:&#39;</span> <span class="token operator">+</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="无法理解的console-log函数" tabindex="-1"><a class="header-anchor" href="#无法理解的console-log函数" aria-hidden="true">#</a> 无法理解的<code>console.log</code>函数</h3><p><code>console.log</code>函数到底是异步的还是同步的？<br></p><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>console.log</code>函数并不是<code>JavaCcript</code>的正式一部分，它是宿主环境添加到<code>JavaScript</code>中的</li><li>在<code>Node.js</code>环境下，它是严格的同步的</li><li>在浏览器下，正常情况下是&#39;同步&#39;的，非正常情况下是异步的。</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// &#39;无法理解的&#39;`console.log`函数</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>index<span class="token operator">++</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 有些浏览器在某些环境下，会把console.log 等I/O操作放在后台执行，意味着a.index++</span>
<span class="token comment">// 操作执行完毕后，才执行两个console.log函数，造成输出结果是：{index:2}</span>
</code></pre></div><h3 id="为什么settimeout不精准" tabindex="-1"><a class="header-anchor" href="#为什么settimeout不精准" aria-hidden="true">#</a> 为什么<code>setTimeout</code>不精准</h3><p><code>setTimeout</code>设置一个定时器，在指定的时间之后才放入事件循环队列中，而如果队列中有很多个项目，秉承队列先进先出的原则，需要等到它前面所有的项目都执行完毕后，才执行定时器里的函数，这就造成了定时器往往并不是一个精准的时间。</p><h2 id="es6" tabindex="-1"><a class="header-anchor" href="#es6" aria-hidden="true">#</a> ES6</h2><h3 id="let和const" tabindex="-1"><a class="header-anchor" href="#let和const" aria-hidden="true">#</a> let和const</h3><h4 id="let和const的共同点" tabindex="-1"><a class="header-anchor" href="#let和const的共同点" aria-hidden="true">#</a> <code>let</code>和<code>const</code>的共同点</h4><ol><li>只在自己声明的作用域中有效</li><li>一旦声明，则不能重复声明同一个变量</li><li>不再像<code>var</code>声明那样存在变量提升</li></ol><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.1415</span><span class="token punctuation">;</span>
  <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.1415926</span><span class="token punctuation">;</span> <span class="token comment">//报错 </span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//输出2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//报错</span>
</code></pre></div><h3 id="扩展-收缩运算符" tabindex="-1"><a class="header-anchor" href="#扩展-收缩运算符" aria-hidden="true">#</a> 扩展/收缩运算符</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>ES6新运算符<code>...</code>，称为扩展或者收缩，具体作用取决于到底如何使用</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ...的扩展</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1,2,3</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 扩展数组：ES6写法</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 扩展数组：ES5写法</span>


<span class="token comment">// ...的收缩</span>
<span class="token comment">// 1.收集参数：ES6写法</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出1,2,3,4,5</span>
<span class="token punctuation">}</span>
<span class="token comment">// 2.收集参数：ES5写法</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出1,2,3,4,5</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="参数设置默认值" tabindex="-1"><a class="header-anchor" href="#参数设置默认值" aria-hidden="true">#</a> 参数设置默认值</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>ES6参数默认值可以是普通的赋值</li><li>ES6参数默认值可以是一个表达式</li><li>ES6参数默认值可以是一个函数调用的返回值</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ES5设置参数默认值和ES6设置参数默认值</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  x <span class="token operator">=</span> x <span class="token operator">||</span> <span class="token number">11</span><span class="token punctuation">;</span>
  y <span class="token operator">=</span> y <span class="token operator">||</span> <span class="token number">22</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">+</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 输出33</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出27</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出17</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 输出17</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 弊端：参数无法传递0，输出21</span>

<span class="token comment">// ES5改进</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">!=</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> x <span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">;</span>
  y <span class="token operator">=</span> <span class="token punctuation">(</span>y<span class="token operator">!=</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> y <span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">+</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 输出33</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出27</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出17</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 输出17</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 输出10</span>

<span class="token comment">// ES6方法</span>
<span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">22</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">+</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 输出33</span>
<span class="token function">baz</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出27</span>
<span class="token function">baz</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出17</span>
<span class="token function">baz</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 输出6(与预期结果不一致，是因为null被强制转换成了0，实际baz(0,6))</span>
<span class="token function">baz</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 输出10</span>
</code></pre></div><h4 id="es6参数默认表达式" tabindex="-1"><a class="header-anchor" href="#es6参数默认表达式" aria-hidden="true">#</a> ES6参数默认表达式</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>参数默认表达式中的参数是惰性的，意味着他们只在运行时才会发生，即其值省略或者为<code>undefined</code></li><li>默认表达式中的参数也是有作用域的，在参数列表中有的，不会向外层获取。</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ES6参数默认表达式</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 输出11 (5+6)</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">// 输出18 (8+10)</span>

<span class="token keyword">var</span> w <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> w <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> z <span class="token operator">=</span> z <span class="token operator">+</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错，参数列表中有z，不在取外层的z，而z = z + 1时，右边的z没有赋值就使用，即报错</span>
</code></pre></div><h3 id="解构" tabindex="-1"><a class="header-anchor" href="#解构" aria-hidden="true">#</a> 解构</h3><div class="custom-container tip"><p class="custom-container-title">常用解构方式</p><ol><li>对象解构</li><li>数组解构</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 常用解构方式:解构对象 or 解构数组</span>

<span class="token comment">// ES6之前的获取返回数组和返回对象的方式</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token constant">X</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token constant">Y</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token constant">Z</span><span class="token operator">:</span> <span class="token number">6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token constant">X</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token constant">Y</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> z <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token constant">Z</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1,2,3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出4,5,6</span>

<span class="token comment">// ES6之后获取返回数组和返回对象的方式</span>
<span class="token keyword">var</span> <span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">B</span><span class="token punctuation">,</span><span class="token constant">C</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span><span class="token constant">X</span><span class="token punctuation">,</span><span class="token constant">Y</span><span class="token punctuation">,</span><span class="token constant">Z</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">B</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1,2,3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">X</span><span class="token punctuation">,</span><span class="token constant">Y</span><span class="token punctuation">,</span><span class="token constant">Z</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出4,5,6</span>
</code></pre></div><h4 id="解构赋值技巧一-属性要一一对应" tabindex="-1"><a class="header-anchor" href="#解构赋值技巧一-属性要一一对应" aria-hidden="true">#</a> 解构赋值技巧一：属性要一一对应</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>解构赋值<code>{x,y,z} = {x:1,y:2,z:3}</code>中，左侧省略了<code>x:</code>，<code>y:</code>以及<code>z:</code></p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 解构赋值技巧一：属性要一一对应</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token literal-property property">z</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token comment">// 简写方式</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span>x<span class="token punctuation">,</span><span class="token literal-property property">y</span><span class="token operator">:</span>y<span class="token punctuation">,</span><span class="token literal-property property">z</span><span class="token operator">:</span>z<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token literal-property property">z</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span>   <span class="token comment">// 完整写法</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token constant">X</span><span class="token punctuation">,</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class="token constant">Y</span><span class="token punctuation">,</span><span class="token literal-property property">z</span><span class="token operator">:</span><span class="token constant">Z</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token literal-property property">z</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span>   <span class="token comment">// 属性一一对应是指，左侧的属性必须同右侧的一致</span>
</code></pre></div><h4 id="解构赋值技巧二-交换两个变量的值" tabindex="-1"><a class="header-anchor" href="#解构赋值技巧二-交换两个变量的值" aria-hidden="true">#</a> 解构赋值技巧二：交换两个变量的值</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 解构赋值技巧二：交换两个变量的值</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>y<span class="token punctuation">,</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出20,10</span>
</code></pre></div><h4 id="解构赋值技巧三-快速提取对象中的属性或者对象中的对象-数组" tabindex="-1"><a class="header-anchor" href="#解构赋值技巧三-快速提取对象中的属性或者对象中的对象-数组" aria-hidden="true">#</a> 解构赋值技巧三：快速提取对象中的属性或者对象中的对象(数组)</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 解构赋值技巧三：快速提取对象中的属性或者对象中的对象(数组)</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">,</span> a <span class="token punctuation">}</span>  <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1,2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出{x:1,y:2}</span>
</code></pre></div><h4 id="解构赋值技巧四-按需提取" tabindex="-1"><a class="header-anchor" href="#解构赋值技巧四-按需提取" aria-hidden="true">#</a> 解构赋值技巧四：按需提取</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>往往在用解构赋值时，有一些对象或者数组的值，是我们不必要的，可以通过占位的形式绕过它，不提取</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 解构赋值技巧四：按需提取</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token constant">X</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token constant">Y</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token constant">Z</span><span class="token operator">:</span> <span class="token number">6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 只提取第二个数，输出2</span>

<span class="token keyword">var</span> <span class="token punctuation">{</span><span class="token constant">X</span><span class="token punctuation">,</span><span class="token constant">Z</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">X</span><span class="token punctuation">,</span><span class="token constant">Z</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 只提取X属性和Z属性的值，输出4,6</span>
</code></pre></div><h4 id="解构赋值技巧五-解构的默认值" tabindex="-1"><a class="header-anchor" href="#解构赋值技巧五-解构的默认值" aria-hidden="true">#</a> 解构赋值技巧五：解构的默认值</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>解构默认值是指：在解构的过程中，发生解构失败(左侧需要而右侧没有)时，左侧赋值一个默认的值</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 解构赋值技巧五：解构的默认值</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token constant">X</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token constant">Y</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token constant">Z</span><span class="token operator">:</span> <span class="token number">6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token punctuation">[</span>a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>d<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">]</span>  <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1,2,3,4  foo函数返回的数组中只有三个，d应用默认值4</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span><span class="token constant">X</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token constant">Y</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token constant">Z</span><span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token constant">K</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">X</span><span class="token punctuation">,</span><span class="token constant">Y</span><span class="token punctuation">,</span><span class="token constant">Z</span><span class="token punctuation">,</span><span class="token constant">K</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出4,5,6,0  bar返回的对象中，没有K属性，K应用默认值0</span>
</code></pre></div><h4 id="解构赋值技巧六-解构参数" tabindex="-1"><a class="header-anchor" href="#解构赋值技巧六-解构参数" aria-hidden="true">#</a> 解构赋值技巧六：解构参数</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 解构赋值技巧六：解构参数</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1,2</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出2,undefined</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出undefined,undefined</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x<span class="token punctuation">,</span>y<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出3,4</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出3,undefined</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 输出undefined,undefined</span>
</code></pre></div><h3 id="对象字面量扩展" tabindex="-1"><a class="header-anchor" href="#对象字面量扩展" aria-hidden="true">#</a> 对象字面量扩展</h3><h4 id="简洁写法" tabindex="-1"><a class="header-anchor" href="#简洁写法" aria-hidden="true">#</a> 简洁写法</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>属性的简洁写法：当属性和标识符同名是，可以省略，只写一个，例如<code>x:x =&gt; x</code></li><li>方法的简洁写法</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 简洁写法</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">x</span><span class="token operator">:</span> x<span class="token punctuation">,</span>
  <span class="token literal-property property">y</span><span class="token operator">:</span> y
<span class="token punctuation">}</span>
<span class="token keyword">var</span> myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">,</span>
  y
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出3</span>


<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">sayHello</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHi</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> newFoo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
newFoo<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出Hello</span>
newFoo<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 输出Hi</span>
</code></pre></div><h3 id="字符串模板" tabindex="-1"><a class="header-anchor" href="#字符串模板" aria-hidden="true">#</a> 字符串模板</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><code>${内容}</code>：字符串模板里的内容可以是变量、函数调用以及表达式</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 字符串模板</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> address <span class="token operator">=</span> <span class="token string">&#39;广州&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// ES5拼接字符串</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;我叫：&#39;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&#39;,我的年龄是：&#39;</span><span class="token operator">+</span>age<span class="token operator">+</span><span class="token string">&#39;,我的地址是：&#39;</span><span class="token operator">+</span>address<span class="token punctuation">;</span>

<span class="token comment">// ES6模板字符串</span>
<span class="token keyword">var</span> newStr <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我叫：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,我的年龄是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,我的地址是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>address<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出:我叫：why,我的年龄是：23，我的地址是：广州</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出:我叫：why,我的年龄是：23，我的地址是：广州</span>
</code></pre></div><h3 id="箭头函数" tabindex="-1"><a class="header-anchor" href="#箭头函数" aria-hidden="true">#</a> 箭头函数</h3><div class="custom-container tip"><p class="custom-container-title">箭头函数使用规则</p><ol><li>如果只是一个简单的计算并且<code>return</code>计算结果，那么可以使用箭头函数</li><li>如果主要依赖于<code>var self = this</code>中的<code>self</code>来工作</li><li>其他复杂的情况，慎用箭头函数</li></ol></div><h4 id="箭头函数的使用场景一" tabindex="-1"><a class="header-anchor" href="#箭头函数的使用场景一" aria-hidden="true">#</a> 箭头函数的使用场景一</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 箭头函数的使用场景一：没有参数时</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">12</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出12</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出12</span>
</code></pre></div><h4 id="箭头函数的使用场景二" tabindex="-1"><a class="header-anchor" href="#箭头函数的使用场景二" aria-hidden="true">#</a> 箭头函数的使用场景二</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 箭头函数的使用场景二：只有一个参数时</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出2</span>
</code></pre></div><h4 id="箭头函数的使用场景三" tabindex="-1"><a class="header-anchor" href="#箭头函数的使用场景三" aria-hidden="true">#</a> 箭头函数的使用场景三</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 箭头函数的使用场景三：有多个参数时</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span><span class="token comment">// 完整:return x+y;</span>
<span class="token keyword">var</span> result1 <span class="token operator">=</span> <span class="token function">sum1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result2 <span class="token operator">=</span> <span class="token function">sum2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出3</span>
</code></pre></div><h4 id="箭头函数的使用场景四" tabindex="-1"><a class="header-anchor" href="#箭头函数的使用场景四" aria-hidden="true">#</a> 箭头函数的使用场景四</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 箭头函数的使用场景四：遍历</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出2,3,4,5,6</span>
</code></pre></div><h4 id="箭头函数的使用场景五" tabindex="-1"><a class="header-anchor" href="#箭头函数的使用场景五" aria-hidden="true">#</a> 箭头函数的使用场景五</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 箭头函数的使用场景五：不改变this</span>
<span class="token keyword">var</span> controller <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">makeRequest</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      self<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">makeResponse</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
controller<span class="token punctuation">.</span><span class="token function">makeRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出Hello</span>
controller<span class="token punctuation">.</span><span class="token function">makeResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出Hello</span>
</code></pre></div><h3 id="迭代器" tabindex="-1"><a class="header-anchor" href="#迭代器" aria-hidden="true">#</a> 迭代器</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>定义：迭代器是一种有序的、连续的、基于拉取的用于消耗数据的组织方式</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 迭代器</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> it <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: 1, done: false}</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: 2, done: false}</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: 3, done: false}</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: undefined, done: true}，true代表已迭代完毕</span>
</code></pre></div><h4 id="迭代器可选接口" tabindex="-1"><a class="header-anchor" href="#迭代器可选接口" aria-hidden="true">#</a> 迭代器可选接口</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>return</code>：向迭代器发出一个信号，表明消费者代码已经完毕，不会再从其中提取任何值。</li><li><code>throw</code>：向迭代器抛出一个异常/错误</li></ol></div><h4 id="迭代器与循环" tabindex="-1"><a class="header-anchor" href="#迭代器与循环" aria-hidden="true">#</a> 迭代器与循环</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 迭代器与循环</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>v <span class="token keyword">of</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// for-of循环的等价形式</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> v<span class="token punctuation">,</span>res<span class="token punctuation">;</span> <span class="token punctuation">(</span>res<span class="token operator">=</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span><span class="token operator">!</span>res<span class="token punctuation">.</span>done<span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  v <span class="token operator">=</span> res<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="自定义迭代器" tabindex="-1"><a class="header-anchor" href="#自定义迭代器" aria-hidden="true">#</a> 自定义迭代器</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 自定义斐波拉契数组迭代器</span>
<span class="token keyword">var</span> Fib <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> n1 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> n2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> current <span class="token operator">=</span> n2<span class="token punctuation">;</span>
        n2 <span class="token operator">=</span> n1<span class="token punctuation">;</span>
        n1 <span class="token operator">=</span> n2 <span class="token operator">+</span> current<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> current<span class="token punctuation">,</span>
          <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">return</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> v<span class="token punctuation">,</span>
          <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出1 1 2 3 5 8 13 21 34 55</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> v <span class="token keyword">of</span> Fib<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token operator">&gt;</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="生成器" tabindex="-1"><a class="header-anchor" href="#生成器" aria-hidden="true">#</a> 生成器</h3><p>在<code>ES6</code>之前，一个函数一旦开始执行，将不会被中断，一直到函数执行完毕；在<code>ES6</code>之后，由于生成器的存在，函数可以暂停自身，待到合适的机会再开始运行。</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 生成器函数的语法: *号的位置可以随意</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="运行生成器" tabindex="-1"><a class="header-anchor" href="#运行生成器" aria-hidden="true">#</a> 运行生成器</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>生成器函数同普通函数一样，可以传参，可以调用，不同是的，调用并不会向普通函数一样立即执行</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 运行生成器</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// it.next()运行生成器函数里的代码</span>
<span class="token comment">// 输出：15</span>
<span class="token comment">// 输出：{value: undefined, done: true}</span>
</code></pre></div><h4 id="yield生成器暂停点" tabindex="-1"><a class="header-anchor" href="#yield生成器暂停点" aria-hidden="true">#</a> yield生成器暂停点</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>yield</code>表示生成器函数遇到此处时，暂停，待生成器恢复时再运行其后的代码</li><li><code>yield</code>在同一个生成器函数中可以出现多次</li><li><code>yield</code>不只是一个暂停点，还可以是一个表达式</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// yield生成器暂停点</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: undefined, done: false}，表示yield执行的代码已全部执行，生成器已暂停，待下一次next时，再运行其后的代码</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出30 {value: undefined, done: true}，true表示生成器已运行完毕</span>
</code></pre></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// yield表达式</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token keyword">yield</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span> <span class="token comment">// 发出x+y的值30，接收参数33并赋值给z</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;z:&#39;</span><span class="token operator">+</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出{value: 30, done: false}</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出z:33 {value: undefined, done: true}</span>

<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token keyword">yield</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> itBar <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
itBar<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{value: 1, done: false}</span>
itBar<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{value: 2, done: false}</span>
itBar<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{value: 3, done: false}</span>
itBar<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{value: 4, done: false}</span>
itBar<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出[undefined,undefined,undefined],undefined  {value: undefined, done: true}</span>
</code></pre></div><h4 id="yield-委托" tabindex="-1"><a class="header-anchor" href="#yield-委托" aria-hidden="true">#</a> <code>yield*</code>委托</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>yield*</code>委托的行为和<code>yield</code>相同</li><li><code>yield*</code>委托是把生成器控制委托给一个<code>iterator</code>，这个<code>iterator</code>迭代完毕即意味着生成器迭代完毕</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// yield*委托</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: 1, done: false}</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: 2, done: false}</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: 3, done: false}</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出{value: undefined, done: true}</span>
</code></pre></div><h3 id="promise" tabindex="-1"><a class="header-anchor" href="#promise" aria-hidden="true">#</a> Promise</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Promise</code>不是对回调的替代</li><li><code>Promise</code>只能被决议一次，其后的决议会被忽略</li><li><code>Promise</code>决议只有两种结果：完成或拒绝</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 构造Promise</span>
<span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ..</span>
  <span class="token comment">// resolve()：完成</span>
  <span class="token comment">// reject()：拒绝</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="promise与回调的对比" tabindex="-1"><a class="header-anchor" href="#promise与回调的对比" aria-hidden="true">#</a> Promise与回调的对比</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Promise与回调的对比</span>
<span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">&#39;www.baidu.com&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span>contents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 处理错误</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 处理成功</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">contents</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 处理成功</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 处理错误</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="promise-all" tabindex="-1"><a class="header-anchor" href="#promise-all" aria-hidden="true">#</a> Promise.all()</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Promise.all()</code>函数接受一个或多个值的数组</li><li>只有当数组中全部被决议(完成或拒绝)才返回</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Promise.all()</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> v3 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;err&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span>p2<span class="token punctuation">,</span>v3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出[1,2,3]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="promise-race" tabindex="-1"><a class="header-anchor" href="#promise-race" aria-hidden="true">#</a> Promise.race()</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Promise.race()</code>函数接受一个或多个值的数组</li><li>数组中只要有一个被决议，函数就返回</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Promise.race()</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> v3 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;err&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p2<span class="token punctuation">,</span>p1<span class="token punctuation">,</span>v3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p2<span class="token punctuation">,</span>p4<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不会执行到这里 </span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出err</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="map和weakmap" tabindex="-1"><a class="header-anchor" href="#map和weakmap" aria-hidden="true">#</a> Map和WeakMap</h3><h4 id="map结构" tabindex="-1"><a class="header-anchor" href="#map结构" aria-hidden="true">#</a> Map结构</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>对象是创建无序键值对数据结构映射的主要机制<br> 在ES6之前，对象的属性只能是字符串<br> 在ES6之后，<code>Map</code>结构允许使用对象、数组等作为键</p></div><ul><li><code>set()</code>：新增一个map结构的数据</li><li><code>get(key)</code>：根据键获取值</li><li><code>size</code>：获取map结构的长度</li><li><code>delete(key)</code>：根据指定的键删除</li><li><code>has(key)</code>：判断指定的键是否存在于map结构中</li><li><code>keys()</code>遍历，<code>values()</code>遍历，<code>entries()</code>键值对遍历</li><li><code>clear</code>清空map结构</li></ul><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Map结构</span>
<span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    y <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 设置map数据</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token string">&#39;bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取map数据</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出foo</span>

<span class="token comment">// 获取map结构的长度</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出2</span>

<span class="token comment">// 根据指定键删除map数据</span>
map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 根据指定的键判断是否存在于map结构中</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出false</span>

<span class="token comment">// 遍历map键</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 输出{id:2}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 遍历map值</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> value <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出foo</span>
<span class="token punctuation">}</span>

<span class="token comment">// 遍历map键值对</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出y</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出{id:2}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="weakmap" tabindex="-1"><a class="header-anchor" href="#weakmap" aria-hidden="true">#</a> WeakMap</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>表现形式基本与<code>Map</code>结构类似</li><li>没有<code>clear()</code>方法和<code>size</code>属性</li><li>不暴露任何键、值和迭代器，因此无法进行<code>keys()</code>、<code>values()</code>和<code>entries()</code>遍历</li><li>同<code>Map</code>结构最明显的区别是，键必须是对象，如果键是可以被GC的，那么<code>Map</code>结构对应的值也会被GC</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>

map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// {id:1}可以被GC</span>
y <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// {id:2}可以被GC</span>
</code></pre></div><h3 id="set和weakset" tabindex="-1"><a class="header-anchor" href="#set和weakset" aria-hidden="true">#</a> Set和WeakSet</h3><h4 id="set结构" tabindex="-1"><a class="header-anchor" href="#set结构" aria-hidden="true">#</a> Set结构</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><code>Set</code>是一个集合，它里面的值是唯一的，重复添加会被忽略(<code>Set</code>结构不允许强制类型转换，<code>1</code>和<code>&quot;1&quot;</code>被认为是两个不同的值)</p></div><ul><li><code>add()</code>：添加新值</li><li><code>size</code>：获取<code>Set</code>结构的长度</li><li><code>delete()</code>：根据指定的键删除</li><li><code>has()</code>：判断指定的键是否存在<code>Set</code>集合中</li><li><code>keys()</code>遍历、<code>values()</code>遍历、<code>entries()</code>遍历</li><li><code>clear()</code>：清空<code>Set</code>结构</li></ul><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Set结构</span>
<span class="token keyword">var</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token comment">// 添加Set数据</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取Set数据的长度</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出5</span>

<span class="token comment">// 删除Set数据</span>
set<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 判断某个值是否存在Set结构中</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出false</span>

<span class="token comment">// 遍历Set的键</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">of</span> set<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出{id：1} {id:2} 1 &quot;1&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 遍历Set的值</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> value <span class="token keyword">of</span> set<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出{id:1} {id:2} 1 &quot;1&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 遍历Set的键值对</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> set<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 {id:1} {id:2} 1 &quot;1&quot;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 {id:1} {id:2} 1 &quot;1&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="set集合的运用" tabindex="-1"><a class="header-anchor" href="#set集合的运用" aria-hidden="true">#</a> Set集合的运用</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Set集合的运用：数组的去重、并集、交集、差集</span>
<span class="token keyword">var</span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>set1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 去重：输出1,2,3,4,5</span>

<span class="token keyword">var</span> union <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>set1<span class="token punctuation">,</span><span class="token operator">...</span>set2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>union<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 并集：输出1,2,3,4,5,6,7</span>

<span class="token keyword">var</span> intec <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>set1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> set2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>intec<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 交集：输出4,5</span>

<span class="token keyword">var</span> diff1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>set1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>set2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>diff1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 差集(set1-set2)：1,2,3</span>
<span class="token keyword">var</span> diff2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>set2<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>set1<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>diff2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 差集(set2-set1)：6,7</span>
</code></pre></div><h4 id="weakset" tabindex="-1"><a class="header-anchor" href="#weakset" aria-hidden="true">#</a> WeakSet</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>WeakSet</code>基本表现同<code>Set</code>类似</li><li><code>WeakSet</code>必须是对象</li></ol></div><h3 id="array新增api" tabindex="-1"><a class="header-anchor" href="#array新增api" aria-hidden="true">#</a> Array新增API</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Array.of()</code>新的数组构造器</li><li><code>Array.from()</code>将类数组对象转换成真正的数组</li><li><code>copyWithin()</code>复制数组中一部分内容到同一个数组的另一个位置，覆盖原来位置的值</li><li><code>fill()</code>填充数组</li><li><code>find()</code>在数组中查找某个值是否存在</li><li><code>findIndex()</code>在数组中某个值的索引</li><li><code>keys()</code>遍历，<code>values()</code>遍历以及<code>entries()</code>遍历</li></ol></div><h4 id="array-of" tabindex="-1"><a class="header-anchor" href="#array-of" aria-hidden="true">#</a> Array.of()</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><code>Array.of(3)</code>构造一个长度为1，第一个值为3的数组，而不会像<code>Array(3)</code>那样构造一个长度为3空槽数组</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Array.of()</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 输出undefined</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 输出3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 输出[1,2,3]</span>
</code></pre></div><h4 id="array-from" tabindex="-1"><a class="header-anchor" href="#array-from" aria-hidden="true">#</a> Array.from</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>常见的类数组有：<code>arguments</code>、<code>classList</code>以及自定义的类数组对象</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> arrLike <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token comment">// ES5做法</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrLike<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出[&quot;1&quot;,true,23]</span>

<span class="token comment">// ES6做法</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrLike<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出[&quot;1&quot;,true,23]</span>
</code></pre></div><h4 id="array-from第二个参数的运用" tabindex="-1"><a class="header-anchor" href="#array-from第二个参数的运用" aria-hidden="true">#</a> Array.from第二个参数的运用</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Array.from第二个参数的运用</span>
<span class="token keyword">var</span> arrLike <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrLike<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&#39;boolean&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">!</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出[false,12,&#39;FOO&#39;]</span>
</code></pre></div><h4 id="copywithin" tabindex="-1"><a class="header-anchor" href="#copywithin" aria-hidden="true">#</a> copyWithin</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li><code>target(必填)</code>：要复制到的索引</li><li><code>start(可选)</code>：复制开始的索引，默认是0</li><li><code>end(可选)</code>：复制结束的索引，默认是数组的长度</li></ul></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// copyWithin</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出[1,2,3,1,2]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出[1,3,4,5,5]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出[1,3,3,4,5]</span>
</code></pre></div><h4 id="fill" tabindex="-1"><a class="header-anchor" href="#fill" aria-hidden="true">#</a> fill</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>fill</code>用指定值完全或者部分填充已存在的数组</li><li><code>start(可选)</code>：填充的起始位置</li><li><code>end(可选)</code>：填充的结束位置</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// fill</span>
<span class="token keyword">var</span> arr  <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">&#39;www&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出[&#39;www&#39;,&#39;www&#39;,&#39;www&#39;,&#39;www&#39;]</span>

<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出[undefined,42,undefined,undefined]</span>
</code></pre></div><h4 id="find和findindex" tabindex="-1"><a class="header-anchor" href="#find和findindex" aria-hidden="true">#</a> find和findIndex</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>find</code>和<code>findIndex</code>参数都是一个回调函数</li><li>回调函数的参数分别是<code>value</code>,<code>index</code>以及<code>array</code></li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// find和findIndex</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> flag <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value<span class="token operator">==</span><span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出true</span>

<span class="token keyword">var</span> index <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value<span class="token operator">==</span><span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出1</span>
</code></pre></div><h3 id="object新增api" tabindex="-1"><a class="header-anchor" href="#object新增api" aria-hidden="true">#</a> Object新增API</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Object.is()</code>执行比<code>===</code>比较更严格的值比较</li><li><code>Object.getOwnPropertySymbols()</code>从对象中获取所有符号属性</li><li><code>Object.setPrototypeOf()</code>设置对象的原型委托</li><li><code>Object.assign()</code>把其他对象的属性赋值到目标对象上</li></ol></div><h4 id="object-is" tabindex="-1"><a class="header-anchor" href="#object-is" aria-hidden="true">#</a> Object.is</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>如果不是严格要是别<code>NaN</code>和<code>-0</code>的话，还是建议使用<code>===</code>比较</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Object.is()</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">===</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token operator">===</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出false</span>
</code></pre></div><h4 id="object-getownpropertysymbols" tabindex="-1"><a class="header-anchor" href="#object-getownpropertysymbols" aria-hidden="true">#</a> Object.getOwnPropertySymbols</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Object.getOwnPropertySymbols()</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;isMan&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出[Symbol(name),Symbol(isMan)]</span>
</code></pre></div><h4 id="object-setprototypeof" tabindex="-1"><a class="header-anchor" href="#object-setprototypeof" aria-hidden="true">#</a> Object.setPrototypeOf</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Object.setPrototypeOf()</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;obj1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello,world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj2  <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 输出obj1</span>
obj2<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出hello,world</span>
</code></pre></div><h4 id="object-assign" tabindex="-1"><a class="header-anchor" href="#object-assign" aria-hidden="true">#</a> Object.assign</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Object.assign()</code>是浅拷贝</li><li>只会拷贝对象本身中可枚举的属性或者符号</li><li>通过<code>=</code>进行简单赋值操作</li><li>相同的属性的值以最后一个为准</li></ol></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span><span class="token string">&#39;a1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj3<span class="token punctuation">,</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;c1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> result <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>obj1<span class="token punctuation">,</span>obj2<span class="token punctuation">,</span>obj3<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出{ a:100,a1:11,c:3,Symbol(c1):33 }</span>
</code></pre></div><h3 id="number新增api" tabindex="-1"><a class="header-anchor" href="#number新增api" aria-hidden="true">#</a> Number新增API</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Number.MAX_SAFE_INTEGER</code>能够被安全表达的最大整数：2^53-1</li><li><code>Number.MIN_SAFE_INTEGER</code>能够被安全表达的最小整数：-(2^53-1)</li><li><code>Number.isNaN()</code>判断是否等于<code>NaN</code>，是返回<code>true</code>，否则返回<code>false</code></li><li><code>Number.isFinite()</code>判断是否是一个有效的数字(非无限的)</li><li><code>Number.isInteger()</code>判断是否是一个整数</li></ol></div><h4 id="number-max-safe-integer-和-number-min-safe-integer" tabindex="-1"><a class="header-anchor" href="#number-max-safe-integer-和-number-min-safe-integer" aria-hidden="true">#</a> Number.MAX_SAFE_INTEGER 和 Number.MIN_SAFE_INTEGER</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Number.MAX_SAFE_INTEGER 和 Number.MIN_SAFE_INTEGER</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出9007199254740991</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MIN_SAFE_INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出-9007199254740991</span>
</code></pre></div><h4 id="number-isnan" tabindex="-1"><a class="header-anchor" href="#number-isnan" aria-hidden="true">#</a> Number.isNaN</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li>全局函数<code>isNaN()</code>有缺陷，只要是非数字就返回<code>true</code>，即使是<code>NaN</code></li><li><code>Number.isNaN()</code>判断的是<code>NaN</code>，只有判断传入的是<code>NaN</code>才返回<code>true</code></li></ul></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Number.isNaN()</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&#39;NaN&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 输出true isNaN()做了强制类型转换</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 输出false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出false</span>
</code></pre></div><h4 id="number-isfinite" tabindex="-1"><a class="header-anchor" href="#number-isfinite" aria-hidden="true">#</a> Number.isFinite()</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li>全局函数<code>isFinite()</code>会对参数进行强制类型转换</li><li><code>Number.isFinite()</code>则不会对参数进行强制类型转换</li></ul></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Number.isFinite()</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">Infinity</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isFinite</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isFinite</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isFinite</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 输入true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出false</span>
</code></pre></div><h4 id="number-isinteger" tabindex="-1"><a class="header-anchor" href="#number-isinteger" aria-hidden="true">#</a> Number.isInteger</h4><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><code>42</code>,<code>42.0</code>以及<code>42.</code>没有什么区别</p></div><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Number.isInteger</span>
<span class="token keyword">var</span> num1 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num2 <span class="token operator">=</span> <span class="token number">42.0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num3 <span class="token operator">=</span> <span class="token number">42.</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num4 <span class="token operator">=</span> <span class="token number">42.2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num5 <span class="token operator">=</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>num3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>num4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>num5<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出false</span>
</code></pre></div><h3 id="string新增api" tabindex="-1"><a class="header-anchor" href="#string新增api" aria-hidden="true">#</a> String新增API</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>repeat()</code>复制字符串，参数为要复制的次数</li><li><code>startsWith()</code>判断字符串是否以指定字符串开头</li><li><code>endsWith()</code>判断字符串是否以指定字符串结尾</li><li><code>includes()</code>判断字符串是否包含指定的字符串</li></ol></div><h4 id="repeat" tabindex="-1"><a class="header-anchor" href="#repeat" aria-hidden="true">#</a> repeat</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;why&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出whywhywhy</span>
</code></pre></div><h4 id="startswith、endswith以及includes" tabindex="-1"><a class="header-anchor" href="#startswith、endswith以及includes" aria-hidden="true">#</a> startsWith、endsWith以及includes</h4><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;www . baidu . com/why&#39;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;www&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;why&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 输出true</span>
</code></pre></div></div><!--[--><!--[--><div id="comment" class="giscus-wrapper input-top layout-comment" style="display:block;" data-v-e3e878f2><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--]--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">最后更新时间: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: why583440138@gmail.com">wangtunan</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-4e2da491.js" defer></script>
  </body>
</html>
