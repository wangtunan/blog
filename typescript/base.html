<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript | 汪图南</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/blog/icon.png">
    <script>var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?1876f64fd31c9aba1a7a5e157813a075";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();</script>
    <meta name="description" content="汪图南的个人博客">
    
    <link rel="preload" href="/blog/assets/css/0.styles.df711742.css" as="style"><link rel="preload" href="/blog/assets/js/app.e2b3f633.js" as="script"><link rel="preload" href="/blog/assets/js/3.8b672db4.js" as="script"><link rel="preload" href="/blog/assets/js/2.e585f687.js" as="script"><link rel="preload" href="/blog/assets/js/35.781d2240.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.9e27f4a0.js"><link rel="prefetch" href="/blog/assets/js/10.abd04970.js"><link rel="prefetch" href="/blog/assets/js/100.c3254a30.js"><link rel="prefetch" href="/blog/assets/js/101.7c24e37e.js"><link rel="prefetch" href="/blog/assets/js/102.57c5a5b8.js"><link rel="prefetch" href="/blog/assets/js/103.0aa63558.js"><link rel="prefetch" href="/blog/assets/js/104.6c3bda7a.js"><link rel="prefetch" href="/blog/assets/js/105.9e7ae3c9.js"><link rel="prefetch" href="/blog/assets/js/106.e87071a8.js"><link rel="prefetch" href="/blog/assets/js/107.741ca66a.js"><link rel="prefetch" href="/blog/assets/js/108.45bb4994.js"><link rel="prefetch" href="/blog/assets/js/109.ae7f638c.js"><link rel="prefetch" href="/blog/assets/js/11.ddca3676.js"><link rel="prefetch" href="/blog/assets/js/110.b8278429.js"><link rel="prefetch" href="/blog/assets/js/111.0cf21380.js"><link rel="prefetch" href="/blog/assets/js/112.2278b395.js"><link rel="prefetch" href="/blog/assets/js/113.49af98c7.js"><link rel="prefetch" href="/blog/assets/js/114.24d7ba45.js"><link rel="prefetch" href="/blog/assets/js/115.3efa422a.js"><link rel="prefetch" href="/blog/assets/js/116.b1f07740.js"><link rel="prefetch" href="/blog/assets/js/117.123d2e73.js"><link rel="prefetch" href="/blog/assets/js/118.166a13dd.js"><link rel="prefetch" href="/blog/assets/js/119.5ce8a5b9.js"><link rel="prefetch" href="/blog/assets/js/12.737cb762.js"><link rel="prefetch" href="/blog/assets/js/120.a4de47e5.js"><link rel="prefetch" href="/blog/assets/js/121.810c56a5.js"><link rel="prefetch" href="/blog/assets/js/122.a778b325.js"><link rel="prefetch" href="/blog/assets/js/123.14cdb5f4.js"><link rel="prefetch" href="/blog/assets/js/124.551f3b64.js"><link rel="prefetch" href="/blog/assets/js/125.16b6013f.js"><link rel="prefetch" href="/blog/assets/js/126.ef9b01ee.js"><link rel="prefetch" href="/blog/assets/js/127.5a3de5f8.js"><link rel="prefetch" href="/blog/assets/js/128.dc2a8815.js"><link rel="prefetch" href="/blog/assets/js/129.770a230a.js"><link rel="prefetch" href="/blog/assets/js/130.1914e24b.js"><link rel="prefetch" href="/blog/assets/js/131.11a14433.js"><link rel="prefetch" href="/blog/assets/js/132.0b18dcdc.js"><link rel="prefetch" href="/blog/assets/js/133.e15d360d.js"><link rel="prefetch" href="/blog/assets/js/134.78fd8215.js"><link rel="prefetch" href="/blog/assets/js/135.cf8b6b4c.js"><link rel="prefetch" href="/blog/assets/js/136.1225557f.js"><link rel="prefetch" href="/blog/assets/js/137.5943c21c.js"><link rel="prefetch" href="/blog/assets/js/138.3ba8c383.js"><link rel="prefetch" href="/blog/assets/js/139.e6842f66.js"><link rel="prefetch" href="/blog/assets/js/140.c0be9085.js"><link rel="prefetch" href="/blog/assets/js/141.b17dff23.js"><link rel="prefetch" href="/blog/assets/js/142.be1160f7.js"><link rel="prefetch" href="/blog/assets/js/143.618188ad.js"><link rel="prefetch" href="/blog/assets/js/144.c1660ef6.js"><link rel="prefetch" href="/blog/assets/js/145.815862de.js"><link rel="prefetch" href="/blog/assets/js/15.1abdc53c.js"><link rel="prefetch" href="/blog/assets/js/16.f74b6f21.js"><link rel="prefetch" href="/blog/assets/js/17.ad3f3b79.js"><link rel="prefetch" href="/blog/assets/js/18.267b2708.js"><link rel="prefetch" href="/blog/assets/js/19.81b16c65.js"><link rel="prefetch" href="/blog/assets/js/20.3611e2da.js"><link rel="prefetch" href="/blog/assets/js/21.71c03611.js"><link rel="prefetch" href="/blog/assets/js/22.bb4536ca.js"><link rel="prefetch" href="/blog/assets/js/23.4d923623.js"><link rel="prefetch" href="/blog/assets/js/24.155fb1f6.js"><link rel="prefetch" href="/blog/assets/js/25.081bf204.js"><link rel="prefetch" href="/blog/assets/js/26.f69f2672.js"><link rel="prefetch" href="/blog/assets/js/27.3444d41d.js"><link rel="prefetch" href="/blog/assets/js/28.f258f108.js"><link rel="prefetch" href="/blog/assets/js/29.0f639db0.js"><link rel="prefetch" href="/blog/assets/js/30.dd15b4cc.js"><link rel="prefetch" href="/blog/assets/js/31.838f1af8.js"><link rel="prefetch" href="/blog/assets/js/32.144cee3c.js"><link rel="prefetch" href="/blog/assets/js/33.1033e30a.js"><link rel="prefetch" href="/blog/assets/js/34.c2ea7b36.js"><link rel="prefetch" href="/blog/assets/js/36.e1131061.js"><link rel="prefetch" href="/blog/assets/js/37.a32d405c.js"><link rel="prefetch" href="/blog/assets/js/38.0f8567a3.js"><link rel="prefetch" href="/blog/assets/js/39.7d15d8b5.js"><link rel="prefetch" href="/blog/assets/js/4.719595d3.js"><link rel="prefetch" href="/blog/assets/js/40.d6197d4e.js"><link rel="prefetch" href="/blog/assets/js/41.27c95221.js"><link rel="prefetch" href="/blog/assets/js/42.d53bf412.js"><link rel="prefetch" href="/blog/assets/js/43.111769b6.js"><link rel="prefetch" href="/blog/assets/js/44.04049fcb.js"><link rel="prefetch" href="/blog/assets/js/45.186fad1e.js"><link rel="prefetch" href="/blog/assets/js/46.3cc431e7.js"><link rel="prefetch" href="/blog/assets/js/47.06d948cf.js"><link rel="prefetch" href="/blog/assets/js/48.145434fd.js"><link rel="prefetch" href="/blog/assets/js/49.6a7ae33f.js"><link rel="prefetch" href="/blog/assets/js/5.08e5ce2d.js"><link rel="prefetch" href="/blog/assets/js/50.9b49ff3d.js"><link rel="prefetch" href="/blog/assets/js/51.a69dc7af.js"><link rel="prefetch" href="/blog/assets/js/52.58f3f9b0.js"><link rel="prefetch" href="/blog/assets/js/53.6d9c0982.js"><link rel="prefetch" href="/blog/assets/js/54.5271aa58.js"><link rel="prefetch" href="/blog/assets/js/55.b84c8ff0.js"><link rel="prefetch" href="/blog/assets/js/56.c14c8c0a.js"><link rel="prefetch" href="/blog/assets/js/57.2c14451d.js"><link rel="prefetch" href="/blog/assets/js/58.5e844c4c.js"><link rel="prefetch" href="/blog/assets/js/59.c4d7931c.js"><link rel="prefetch" href="/blog/assets/js/6.8470a004.js"><link rel="prefetch" href="/blog/assets/js/60.dd579e10.js"><link rel="prefetch" href="/blog/assets/js/61.2b8b685a.js"><link rel="prefetch" href="/blog/assets/js/62.93581ab1.js"><link rel="prefetch" href="/blog/assets/js/63.af1785e0.js"><link rel="prefetch" href="/blog/assets/js/64.11d22585.js"><link rel="prefetch" href="/blog/assets/js/65.6ceace49.js"><link rel="prefetch" href="/blog/assets/js/66.10e8627f.js"><link rel="prefetch" href="/blog/assets/js/67.194fd8bb.js"><link rel="prefetch" href="/blog/assets/js/68.95aa1845.js"><link rel="prefetch" href="/blog/assets/js/69.2d476f84.js"><link rel="prefetch" href="/blog/assets/js/7.881c396a.js"><link rel="prefetch" href="/blog/assets/js/70.e2db9bb1.js"><link rel="prefetch" href="/blog/assets/js/71.9ffdfa46.js"><link rel="prefetch" href="/blog/assets/js/72.20818d96.js"><link rel="prefetch" href="/blog/assets/js/73.5838b16e.js"><link rel="prefetch" href="/blog/assets/js/74.01afb822.js"><link rel="prefetch" href="/blog/assets/js/75.299b2deb.js"><link rel="prefetch" href="/blog/assets/js/76.0221ff31.js"><link rel="prefetch" href="/blog/assets/js/77.f4cbe28d.js"><link rel="prefetch" href="/blog/assets/js/78.df396381.js"><link rel="prefetch" href="/blog/assets/js/79.129a8dd2.js"><link rel="prefetch" href="/blog/assets/js/8.631b107b.js"><link rel="prefetch" href="/blog/assets/js/80.5fadfa15.js"><link rel="prefetch" href="/blog/assets/js/81.dd3b2525.js"><link rel="prefetch" href="/blog/assets/js/82.7bb1f733.js"><link rel="prefetch" href="/blog/assets/js/83.7f2fe472.js"><link rel="prefetch" href="/blog/assets/js/84.ffa6a1da.js"><link rel="prefetch" href="/blog/assets/js/85.51d431a3.js"><link rel="prefetch" href="/blog/assets/js/86.d9a761e6.js"><link rel="prefetch" href="/blog/assets/js/87.26da0af5.js"><link rel="prefetch" href="/blog/assets/js/88.d9849d2b.js"><link rel="prefetch" href="/blog/assets/js/89.063437cc.js"><link rel="prefetch" href="/blog/assets/js/9.10d9f56a.js"><link rel="prefetch" href="/blog/assets/js/90.1681ee39.js"><link rel="prefetch" href="/blog/assets/js/91.b5a6f276.js"><link rel="prefetch" href="/blog/assets/js/92.bd19b682.js"><link rel="prefetch" href="/blog/assets/js/93.2d0f56bf.js"><link rel="prefetch" href="/blog/assets/js/94.05213e72.js"><link rel="prefetch" href="/blog/assets/js/95.4effaccc.js"><link rel="prefetch" href="/blog/assets/js/96.84f8ac8b.js"><link rel="prefetch" href="/blog/assets/js/97.7bb152dc.js"><link rel="prefetch" href="/blog/assets/js/98.07ef13e7.js"><link rel="prefetch" href="/blog/assets/js/99.5c33329b.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.0bb60075.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.df711742.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">汪图南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/interview/" class="nav-link">
  前端面试之道
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端书籍" class="dropdown-title"><span class="title">前端书籍</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端书籍" class="mobile-dropdown-title"><span class="title">前端书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JavaScript书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/books/javascript/know-up.html" class="nav-link">
  你不知道的JavaScript(上)
</a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/know-down.html" class="nav-link">
  你不知道的JavaScript(中下)
</a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/algorithm.html" class="nav-link">
  JavaScript数据结构和算法
</a></li><li class="dropdown-subitem"><a href="/blog/designPattern/" class="nav-link">
  JavaScript设计模式与开发实践
</a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/es6.html" class="nav-link">
  深入理解ES6
</a></li></ul></li><li class="dropdown-item"><h4>
          Git书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/books/git/" class="nav-link">
  精通Git
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue源码分析" class="dropdown-title"><span class="title">Vue源码分析</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue源码分析" class="mobile-dropdown-title"><span class="title">Vue源码分析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vueAnalysis/introduction/" class="nav-link">
  Vue2.0源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueNextAnalysis/introduction/" class="nav-link">
  Vue3.0源码分析
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="自动化测试" class="dropdown-title"><span class="title">自动化测试</span> <span class="arrow down"></span></button> <button type="button" aria-label="自动化测试" class="mobile-dropdown-title"><span class="title">自动化测试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/test/vueTest.html" class="nav-link">
  Vue应用测试
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><span class="title">打包工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="打包工具" class="mobile-dropdown-title"><span class="title">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/webpack/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/rollup/" class="nav-link">
  Rollup
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TypeScript" class="dropdown-title"><span class="title">TypeScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="TypeScript" class="mobile-dropdown-title"><span class="title">TypeScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/typescript/base.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  TypeScript基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/typescript/challenge.html" class="nav-link">
  TypeScript类型挑战
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS预编译器" class="dropdown-title"><span class="title">CSS预编译器</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS预编译器" class="mobile-dropdown-title"><span class="title">CSS预编译器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/cssPrecompiler/sass/" class="nav-link">
  SASS
</a></li><li class="dropdown-item"><!----> <a href="/blog/cssPrecompiler/sassLoader/" class="nav-link">
  Sass-Loader源码分析
</a></li></ul></div></div><div class="nav-item"><a href="/blog/vuepress/" class="nav-link">
  VuePress
</a></div> <a href="https://github.com/wangtunan/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/interview/" class="nav-link">
  前端面试之道
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端书籍" class="dropdown-title"><span class="title">前端书籍</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端书籍" class="mobile-dropdown-title"><span class="title">前端书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JavaScript书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/books/javascript/know-up.html" class="nav-link">
  你不知道的JavaScript(上)
</a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/know-down.html" class="nav-link">
  你不知道的JavaScript(中下)
</a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/algorithm.html" class="nav-link">
  JavaScript数据结构和算法
</a></li><li class="dropdown-subitem"><a href="/blog/designPattern/" class="nav-link">
  JavaScript设计模式与开发实践
</a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/es6.html" class="nav-link">
  深入理解ES6
</a></li></ul></li><li class="dropdown-item"><h4>
          Git书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/books/git/" class="nav-link">
  精通Git
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue源码分析" class="dropdown-title"><span class="title">Vue源码分析</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue源码分析" class="mobile-dropdown-title"><span class="title">Vue源码分析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vueAnalysis/introduction/" class="nav-link">
  Vue2.0源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blog/vueNextAnalysis/introduction/" class="nav-link">
  Vue3.0源码分析
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="自动化测试" class="dropdown-title"><span class="title">自动化测试</span> <span class="arrow down"></span></button> <button type="button" aria-label="自动化测试" class="mobile-dropdown-title"><span class="title">自动化测试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/test/vueTest.html" class="nav-link">
  Vue应用测试
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><span class="title">打包工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="打包工具" class="mobile-dropdown-title"><span class="title">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/webpack/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/rollup/" class="nav-link">
  Rollup
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TypeScript" class="dropdown-title"><span class="title">TypeScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="TypeScript" class="mobile-dropdown-title"><span class="title">TypeScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/typescript/base.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  TypeScript基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/typescript/challenge.html" class="nav-link">
  TypeScript类型挑战
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS预编译器" class="dropdown-title"><span class="title">CSS预编译器</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS预编译器" class="mobile-dropdown-title"><span class="title">CSS预编译器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/cssPrecompiler/sass/" class="nav-link">
  SASS
</a></li><li class="dropdown-item"><!----> <a href="/blog/cssPrecompiler/sassLoader/" class="nav-link">
  Sass-Loader源码分析
</a></li></ul></div></div><div class="nav-item"><a href="/blog/vuepress/" class="nav-link">
  VuePress
</a></div> <a href="https://github.com/wangtunan/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/typescript/base.html#安装" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#node-js" class="sidebar-link">Node.js</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#typescript-2" class="sidebar-link">TypeScript</a></li></ul></li><li><a href="/blog/typescript/base.html#起步" class="sidebar-link">起步</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#目录" class="sidebar-link">目录</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#编译" class="sidebar-link">编译</a></li></ul></li><li><a href="/blog/typescript/base.html#基础" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#原始数据类型" class="sidebar-link">原始数据类型</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#任意值" class="sidebar-link">任意值</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#类型注解和类型推断" class="sidebar-link">类型注解和类型推断</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#联合类型" class="sidebar-link">联合类型</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#接口" class="sidebar-link">接口</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#函数的类型" class="sidebar-link">函数的类型</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#类型别名" class="sidebar-link">类型别名</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#字符串字面量类型" class="sidebar-link">字符串字面量类型</a></li></ul></li><li><a href="/blog/typescript/base.html#进阶" class="sidebar-link">进阶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#数组和元组" class="sidebar-link">数组和元组</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#枚举" class="sidebar-link">枚举</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#类" class="sidebar-link">类</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#类和接口" class="sidebar-link">类和接口</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#泛型" class="sidebar-link">泛型</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#声明合并" class="sidebar-link">声明合并</a></li><li class="sidebar-sub-header"><a href="/blog/typescript/base.html#命名空间" class="sidebar-link">命名空间</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript"><a href="#typescript" class="header-anchor">#</a> TypeScript</h1> <p><code>TypeScript</code>是<code>JavaScript</code>的一个超集，主要提供了<strong>类型系统</strong>和对<strong>ES6</strong>的支持，它于2012年10月正式发布第一个版本。</p> <p>优势：</p> <ul><li>能在开发过程中更快的发现潜在问题。</li> <li>对编辑器更友好的代码提示功能。</li> <li>代码语义更清晰易懂。</li></ul> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <h3 id="node-js"><a href="#node-js" class="header-anchor">#</a> Node.js</h3> <p>你首先需要在<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener noreferrer">Node.js官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>按照你电脑的操作系统下载对应的<code>Node</code>版本进行安装。</p> <h3 id="typescript-2"><a href="#typescript-2" class="header-anchor">#</a> TypeScript</h3> <p>你需要使用如下命令全局安装<code>TypeScript</code>:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 安装命令</span>
$ <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> typescript

<span class="token comment"># 安装完毕后，查看版本号</span>
$ tsc <span class="token parameter variable">-v</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>如果你对具体版本有严格的要求，你同样可以按照指定版本号进行安装。</p></div> <p>如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 按指定版本号进行安装</span>
$ <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> typescript@3.6.4

<span class="token comment"># 安装完毕后，查看版本号</span>
$ tsc <span class="token parameter variable">-v</span>
</code></pre></div><h2 id="起步"><a href="#起步" class="header-anchor">#</a> 起步</h2> <h3 id="目录"><a href="#目录" class="header-anchor">#</a> 目录</h3> <p>在正式开始学习<code>TypeScript</code>之前，我们需要创建一个叫做<code>TypeScript</code>的文件夹：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 创建文件夹</span>
$ <span class="token function">mkdir</span> TypeScript
</code></pre></div><p>随后在<code>TypeScript</code>文件夹中创建<code>demo.ts</code>文件，其代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello,world'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="编译"><a href="#编译" class="header-anchor">#</a> 编译</h3> <p><code>.ts</code>中的代码一般而言是不能直接运行在浏览器的，需要我们把<code>typescript</code>代码进行编译成普通的<code>javascript</code>代码以后才能运行在浏览器，我们可以使用如下命令来进行编译：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 编译命令</span>
$ tsc demo.ts
</code></pre></div><p>当编译完毕后，我们可以在文件夹中看到多出来了一个叫做<code>demo.js</code>文件：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token operator">|</span>-- TypeScript
<span class="token operator">|</span>   <span class="token operator">|</span>-- demo.js
<span class="token operator">|</span>   <span class="token operator">|</span>-- demo.ts
</code></pre></div><p>随后我们需要使用如下命令来执行我们编译后的<code>javascript</code>代码：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 执行</span>
$ <span class="token function">node</span> demo.js
</code></pre></div><p>当执行完毕以上命令后，你可以在终端上看到输出一下内容：</p> <div class="language-js extra-class"><pre class="language-js"><code>Hello<span class="token punctuation">,</span>world
</code></pre></div><p><strong>简化过程</strong>：我们发现，如果要运行一个<code>.ts</code>文件，我们首先需要使用<code>tsc</code>命令去编译它，随后再使用<code>node</code>命令去执行它，那么有没有一种工具能够一个步骤就帮我们做完以上的事情呢？我们需要全局安装一个叫做<code>ts-node</code>的工具：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 安装ts-node</span>
$ <span class="token function">npm</span> <span class="token function">install</span> ts-node <span class="token parameter variable">-g</span>

<span class="token comment"># 安装完毕，查看版本号</span>
$ ts-node <span class="token parameter variable">-v</span>
</code></pre></div><p>在<code>ts-node</code>安装完毕后，我们先删除<code>demo.js</code>文件，随后使用<code>ts-node</code>命令来编译并执行我们的代码：</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><code>ts-node</code>包有升级更新，如果运行<code>ts-node</code>命令报错，请按照<code>ts-node</code>最新文档进行处理。</p></div> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 删除demo.js文件</span>
$ <span class="token function">rm</span> demo.js

<span class="token comment"># 编译并执行</span>
$ ts-node demo.ts
</code></pre></div><p>以上命令执行完毕后，你将会看到与上面实例相同的输出结果。</p> <h2 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h2> <h3 id="原始数据类型"><a href="#原始数据类型" class="header-anchor">#</a> 原始数据类型</h3> <p>我们知道<code>JavaScript</code>分为<strong>原始数据类型</strong>和<strong>对象类型</strong>，原始数据类型包括：<code>number</code>、<code>string</code>、<code>boolean</code>、<code>null</code>、<code>undefined</code>和<code>symbol</code>。
在<code>TypeScript</code>中，我们可以如下定义：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> tsNum<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span>
<span class="token keyword">let</span> tsStr<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'AAA'</span>
<span class="token keyword">let</span> tsFlag<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">let</span> tsNull<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">let</span> tsUndefined<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>
</code></pre></div><h4 id="void空值"><a href="#void空值" class="header-anchor">#</a> void空值</h4> <p>我们知道在<code>JavaScript</code>中，是没有空值(<code>void</code>)的概念的，但在<code>TypeScript</code>中，可以使用<code>void</code>来表示一个没有返回值的函数：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">sayHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, world'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们也可以定义一个<code>void</code>类型的变量，不过这样的变量并没有什么意义，因为我们只能给这种变量赋值为<code>null</code>或<code>undefined</code>。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> voidValue1<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">let</span> voidValue2<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>
</code></pre></div><h4 id="void、null和undefined"><a href="#void、null和undefined" class="header-anchor">#</a> void、null和undefined</h4> <p><code>void</code>和<code>null</code>与<code>undefined</code>是有一定区别的，在<code>TypeScript</code>中，<code>null</code>和<code>undefined</code>是所有类型的子类型，也就是说可以把<code>undefined</code>或<code>null</code>赋值给<code>number</code>等类型的变量:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> tsNumber1<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>
<span class="token keyword">let</span> tsNumber2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre></div><p>而对于<code>void</code>而言，它只能被赋值为<code>null</code>或者<code>undefined</code>：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 这两行代码会编译报错</span>
<span class="token keyword">let</span> voidValue1<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token number">123</span>
<span class="token keyword">let</span> voidValue2<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token string">'123'</span>
</code></pre></div><h3 id="任意值"><a href="#任意值" class="header-anchor">#</a> 任意值</h3> <p>任意值<code>Any</code>用来表示可以接受任何类型的值。</p> <p>在有以上内容的基础上，我们知道以下代码会报错：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 变量被定义为number，那么它只能接受number类型的值，不能改变其类型，会编译报错</span>
<span class="token keyword">let</span> tsNumber<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span>
tsNumber <span class="token operator">=</span> <span class="token string">'123'</span>
</code></pre></div><p>但是如果一个变量被定义为<code>any</code>，那么代表它可以接受任何类型的值：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 以下代码是正确的，编译成功</span>
<span class="token keyword">let</span> tsAny<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token number">123</span>
tsAny <span class="token operator">=</span> <span class="token string">'123'</span>
</code></pre></div><p>现在我们来思考一个问题，如果我们定义了一个变量，没有指定其类型，也没有初始化，那么它默认为<code>any</code>类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 以下代码是正确的，编译成功</span>
<span class="token keyword">let</span> tsValue
tsValue <span class="token operator">=</span> <span class="token number">123</span>
tsValue <span class="token operator">=</span> <span class="token string">'123'</span>
</code></pre></div><h3 id="类型注解和类型推断"><a href="#类型注解和类型推断" class="header-anchor">#</a> 类型注解和类型推断</h3> <p>在以上的所有实例中，我们都为每一个变量提供了一个确定的类型，这种做法就叫做<strong>类型注解</strong>。而有些时候，当我们没有为其提供一个确定的类型，但提供了一个确定的值，那么<code>TypeScript</code>会根据我们给定的值的类型自动推断出这个变量的类型，这就叫<strong>类型推断</strong>。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// typescript会自动为num1变量推断为number</span>
<span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token number">123</span>

<span class="token comment">// typescript会自动为num4变量推断为number</span>
<span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token number">456</span>
<span class="token keyword">let</span> num3 <span class="token operator">=</span> <span class="token number">789</span>
<span class="token keyword">let</span> num4 <span class="token operator">=</span> num2 <span class="token operator">+</span> num3
</code></pre></div><p>根据以上的案例，当我们给一个变量一个明确值的情况下，我们可以省略为其定义类型。但如果在函数参数中，则我们必须为其指定一个类型，如果不指定则默认为<code>any</code>:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">}</span>
<span class="token comment">// 或者省略函数的返回值类型，因为typescript会基于num1和num1全部为number类型，从而推断出函数返回值为number类型</span>
<span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>num1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> num2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">}</span>
</code></pre></div><p><strong>建议</strong>：始终为函数返回值提供一个确定的类型是有一个比较推荐的好习惯。</p> <h3 id="联合类型"><a href="#联合类型" class="header-anchor">#</a> 联合类型</h3> <p><strong>联合类型</strong>：表示取值可以为多种类型中的一种，多种类型使用<code>|</code>分隔开。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
value <span class="token operator">=</span> <span class="token number">123</span>
value <span class="token operator">=</span> <span class="token string">'123'</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>当我们使用联合类型的时候，因为<code>TypeScript</code>不确定到底是哪一个类型，所以我们只能访问此联合类型的所有类型公用的属性和方法。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 会编译报错</span>
<span class="token keyword">function</span> <span class="token function">getLength</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>

<span class="token comment">// 以下代码不会编译报错</span>
<span class="token keyword">function</span> <span class="token function">valueToStr</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>另外一个值得注意的地方就是，当联合类型被赋值后，<code>TypeScript</code>会根据类型推断来确定变量的类型，一旦确定后，则此变量只能使用这种类型的属性和方法。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> tsValue<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
tsValue <span class="token operator">=</span> <span class="token string">'123'</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tsValue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 编译正确</span>
tsValue <span class="token operator">=</span> <span class="token number">123</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tsValue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 编译报错</span>
</code></pre></div><h3 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h3> <p>在<code>TypeScript</code>中，接口<code>interface</code>是一个比较重要的概念，它是对行为的抽象，而具体的行为需要由类去实现，接口<code>interface</code>中的任何代码都不会被最后编译到<code>JavaScript</code>中。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'why'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在以上代码中，<code>person</code>变量它是<code>Person</code>类型的，那么此变量只能接受接口规定的属性，且属性值的类型也必须和接口中规定的一致，多一个属性或者少一个属性在<code>TypeScript</code>中都不是被允许的。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译报错</span>
<span class="token keyword">let</span> person1<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'why'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译报错</span>
<span class="token keyword">let</span> person2<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'why'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">'man'</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="接口中的任意属性"><a href="#接口中的任意属性" class="header-anchor">#</a> 接口中的任意属性</h4> <p>以上一个例子为基础，假设我们接口只对<code>name</code>和<code>age</code>做规定，其它任何属性都是可以的，那么我们可以如下方式进行定义：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  <span class="token comment">// 任意属性</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'why'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">'man'</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="接口中的可选属性"><a href="#接口中的可选属性" class="header-anchor">#</a> 接口中的可选属性</h4> <p>现在假设，我们有一个接口，它只对<code>name</code>做规定，但是对于是否包含<code>age</code>不做要求，那么可以如下方式进行处理：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// age属性是可选的</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译成功</span>
<span class="token keyword">let</span> person1<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'why'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person2<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'why'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="接口中的只读属性"><a href="#接口中的只读属性" class="header-anchor">#</a> 接口中的只读属性</h4> <p>最后我们要介绍的知识点是只读属性，一旦在接口中标记了属性为只读的， 那么其不能被赋值。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token keyword">readonly</span> age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'why'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译报错</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">32</span>
</code></pre></div><h3 id="函数的类型"><a href="#函数的类型" class="header-anchor">#</a> 函数的类型</h3> <p>在<code>JavaScript</code>中，定义函数有三种表现形式：</p> <ul><li>函数声明。</li> <li>函数表达式。</li> <li>箭头函数</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 函数声明</span>
<span class="token keyword">function</span> <span class="token function">func1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, world'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 函数表达式</span>
<span class="token keyword">const</span> <span class="token function-variable function">func2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, world'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 箭头函数</span>
<span class="token keyword">const</span> <span class="token function-variable function">func3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, world'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果函数有参数，则必须在<code>TypeScript</code>中为其定义具体的类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// 输出3</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 报错</span>
</code></pre></div><h4 id="接口定义函数"><a href="#接口定义函数" class="header-anchor">#</a> 接口定义函数</h4> <p>函数也可以使用接口来定义其类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">AddInterface</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> add<span class="token operator">:</span> <span class="token function-variable function">AddInterface</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// 输出3</span>
</code></pre></div><h4 id="可选参数"><a href="#可选参数" class="header-anchor">#</a> 可选参数</h4> <p>前面我们已经提到过，必须为具体的参数提供具体的类型，但如果一个函数接受一个参数，这个参数又是可选的，那么我们可以如下方式进行定义：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getArea</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span>  b <span class="token operator">?</span> a <span class="token operator">*</span> b <span class="token operator">:</span> a <span class="token operator">*</span> a
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 16</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 20</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>可选参数必须放在最后一个位置，否则会报错。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 编译报错</span>
<span class="token keyword">function</span> <span class="token function">getArea</span> <span class="token punctuation">(</span>b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span>  b <span class="token operator">?</span> a <span class="token operator">*</span> b <span class="token operator">:</span> a <span class="token operator">*</span> a
<span class="token punctuation">}</span>
</code></pre></div><h4 id="参数默认值"><a href="#参数默认值" class="header-anchor">#</a> 参数默认值</h4> <p>在<code>JavaScript</code>中，函数允许我们给参数设置默认值，因此另外一种处理可选参数的方式是，为参数提供一个默认值，此时<code>TypeScript</code>将会把该参数识别为可选参数：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getArea</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span>  a <span class="token operator">*</span> b
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 4</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 20</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>给一个参数设置了默认值后，就不再受<code>TypeScript</code>可选参数必须在最后一个位置的限制了。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">getArea</span> <span class="token punctuation">(</span>b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span>  a <span class="token operator">*</span> b
<span class="token punctuation">}</span>
<span class="token comment">// 此时必须显示的传递一个undefined进行占位</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment">// 20</span>
</code></pre></div><h4 id="剩余参数"><a href="#剩余参数" class="header-anchor">#</a> 剩余参数</h4> <p>在<code>ES6</code>中，我们可以使用<code>...</code>符号进行收缩剩余参数，在<code>TypeScript</code>中，我们依然可以这么做：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// rest是一个数组，我们可以使用数组的类型来定义它</span>
<span class="token keyword">function</span> <span class="token function">getTotal</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment">// 1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span> <span class="token comment">// [2, 3, 4]</span>
<span class="token punctuation">}</span>

<span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="函数重载"><a href="#函数重载" class="header-anchor">#</a> 函数重载</h4> <p>因为在<code>JavaScript</code>中，并没有限制函数参数的个数或者类型，因此<code>JavaScript</code>没有函数重载的概念，在<code>TypeScript</code>中对于函数重载的理解是：只要函数参数的类型或者函数参数的数量不同时，就可以认为这是两个函数(重载)。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 前两个为函数声明，最后一个才是函数实现</span>
<span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'number'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> b <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> b
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">// 3</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 12</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>在有函数重载时，会优先从第一个进行逐一匹配，因此如果重载函数有包含关系，应该将最精准的函数定义写在最前面。</p></div> <h3 id="类型断言"><a href="#类型断言" class="header-anchor">#</a> 类型断言</h3> <p>在上面联合类型中，我们知道可以变量可以是多个类型的，这可能会在代码编写的过程中带给我们一些困惑：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'student'</span>
  <span class="token function">sayHi</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'teacher'</span>
  <span class="token function">sayHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span>person<span class="token operator">:</span> Student <span class="token operator">|</span> Teacher<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 强制断言为Student类型</span>
    <span class="token punctuation">(</span>person <span class="token keyword">as</span> Student<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 强制断言为Teacher类型</span>
    <span class="token punctuation">(</span>person <span class="token keyword">as</span> Teacher<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span>      <span class="token comment">// student</span>
<span class="token function">print</span><span class="token punctuation">(</span>teacher<span class="token punctuation">)</span>  <span class="token comment">// teacher</span>
</code></pre></div><p>代码分析：在<code>print</code>函数中，我们接受的参数可以是<code>Student</code>或者<code>Teacher</code>，在此函数内部我们希望能够根据不同的类型来调用不同的方法。我们首先使用<code>instanceof</code>来判断参数是否为<code>Student</code>类的实例，是我们将<code>person</code>参数强制断言成<code>Student</code>类型，此时就可以安全的调用<code>sayHi</code>方法了，<code>Teacher</code>同理。</p> <h3 id="类型别名"><a href="#类型别名" class="header-anchor">#</a> 类型别名</h3> <p>类型别名用<code>type</code>关键字来给一个类型起一个新的名字，类型别名常用于联合类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">combineType</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">typeObj</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> value1<span class="token operator">:</span> combineType <span class="token operator">=</span> <span class="token number">123</span>
<span class="token keyword">const</span> obj<span class="token operator">:</span> typeObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'why'</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="字符串字面量类型"><a href="#字符串字面量类型" class="header-anchor">#</a> 字符串字面量类型</h3> <p>字符串字面量类型用来表示一个变量只能取某几个字符串值中的一个。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">eventName</span> <span class="token operator">=</span> <span class="token string">'click'</span> <span class="token operator">|</span> <span class="token string">'scroll'</span> <span class="token operator">|</span> <span class="token string">'mousemove'</span>
<span class="token keyword">function</span> <span class="token function">handleEvent</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> eventName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">handleEvent</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span>    <span class="token comment">// click</span>
<span class="token function">handleEvent</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">)</span>   <span class="token comment">// scroll</span>
<span class="token function">handleEvent</span><span class="token punctuation">(</span><span class="token string">'dbclick'</span><span class="token punctuation">)</span>  <span class="token comment">// 编译报错</span>
</code></pre></div><h2 id="进阶"><a href="#进阶" class="header-anchor">#</a> 进阶</h2> <h3 id="数组和元组"><a href="#数组和元组" class="header-anchor">#</a> 数组和元组</h3> <h4 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h4> <p>和普通的变量一样，数组中的类型定义也有一定的规则：类型+方括号表示</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 只允许存储number类型</span>
<span class="token keyword">let</span> numArray<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment">// 只允许存储string类型</span>
<span class="token keyword">let</span> strArray<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span>
</code></pre></div><p>值得一提的是，以上案例还有一种泛型方式的写法：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 只允许存储number类型</span>
<span class="token keyword">let</span> numArray<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment">// 只允许存储string类型</span>
<span class="token keyword">let</span> strArray<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span>
</code></pre></div><p>在数组中也可以使用联合类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 只允许存储number和string类型的值</span>
<span class="token keyword">let</span> tsArray<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span>
</code></pre></div><p>我们知道，在数组中不仅可以存储基础数据类型，还可以存储对象类型，如果需要存储对象类型，可以用如下方式进行定义：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 只允许存储对象仅有name和age，且name为string类型，age为number类型的对象</span>
<span class="token keyword">let</span> objArray<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'AAA'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">23</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>为了更加方便的撰写代码，我们可以使用类型别名的方式来管理以上类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 类型别名</span>
<span class="token keyword">type</span> <span class="token class-name">person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> objArray<span class="token operator">:</span> person<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'AAA'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">23</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h4 id="元组"><a href="#元组" class="header-anchor">#</a> 元组</h4> <p>对元组的理解是：一个数组如果知道它确定的长度，且每个位置的值的类型也是确定的，那么就可以把这样的数组称为元组。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// tuple数组只有2个元素，并且第一个元素类型为string，第二个元素类型为number</span>
<span class="token keyword">let</span> tuple<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'AAA'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>当访问元组中已知位置的索引时，将得到其对应正确的值；当访问元组中未知位置的索引时，会报错。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> tuple<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'AAA'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 123</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tuple<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 报错</span>
</code></pre></div><h3 id="枚举"><a href="#枚举" class="header-anchor">#</a> 枚举</h3> <p>枚举<code>Enum</code>类型用来表示取值限定在指定的范围，例如一周只能有七天，颜色只能有红、绿、蓝等。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> colors  <span class="token punctuation">{</span>
  red<span class="token punctuation">,</span>
  green<span class="token punctuation">,</span>
  blue
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>red<span class="token punctuation">)</span>   <span class="token comment">// 0</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>green<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>blue<span class="token punctuation">)</span>  <span class="token comment">// 2</span>
</code></pre></div><p>代码分析：我们定义一个<code>colors</code>的枚举类型，其取值只能是<code>red</code>、<code>green</code>、<code>blue</code>。我们可以在打印的内容发现，其输出值从0开始，依次累加1。这是枚举类型的默认行为，我们可以手动设置一个起始值：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> colors  <span class="token punctuation">{</span>
  red <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
  green<span class="token punctuation">,</span>
  blue
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>red<span class="token punctuation">)</span>   <span class="token comment">// 10</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>green<span class="token punctuation">)</span> <span class="token comment">// 11</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>blue<span class="token punctuation">)</span>  <span class="token comment">// 12</span>
</code></pre></div><p>在枚举类型中，我们不仅可以正向的获取值，还可以通过值反向获取枚举：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> colors  <span class="token punctuation">{</span>
  red <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
  green<span class="token punctuation">,</span>
  blue
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// red</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// green</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// blue</span>
</code></pre></div><h3 id="类"><a href="#类" class="header-anchor">#</a> 类</h3> <h4 id="类的继承"><a href="#类的继承" class="header-anchor">#</a> 类的继承</h4> <p>在<code>JavaScript</code>中，通过<code>extends</code>关键字来实现子类继承父类，子类也可以通过<code>super</code>关键字来访问父类的属性或者方法。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">sayHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用父类的构造函数</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">sayTeacherHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用父类的方法</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'why'</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// hello, why</span>
teacher<span class="token punctuation">.</span><span class="token function">sayTeacherHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// hello, why</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>有一种关于类属性的简写方式，就是在类的构造函数中指明访问修饰符。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 简写形式</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 等价于</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="存取器"><a href="#存取器" class="header-anchor">#</a> 存取器</h4> <p>在<code>class</code>中，可以通过<code>getter</code>和<code>setter</code>来改变属性的读取和赋值行为。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私有属性，只能在类中进行访问</span>
  <span class="token keyword">private</span> _name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>_name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> _name
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">name</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'why'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment">// why</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'AAA'</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment">// AAA</span>
</code></pre></div><h4 id="静态属性和静态方法"><a href="#静态属性和静态方法" class="header-anchor">#</a> 静态属性和静态方法</h4> <p>所谓静态属性和静态方法，就是只能通过类来进行访问，不能通过类的实例来进行访问。在众多设计模式中，有一种设计模式叫做单例设计模式，可以使用<code>static</code>静态方法来辅助我们完成单例设计模式。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> _instance<span class="token operator">:</span> Person
  <span class="token keyword">private</span> <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">getInstance</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person1 <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> person2 <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token operator">===</span> person2<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="typescript类的访问修饰符"><a href="#typescript类的访问修饰符" class="header-anchor">#</a> TypeScript类的访问修饰符</h4> <p>在以上的实例中，我们使用到了<code>TypeScript</code>中关于类的几种访问修饰符，它有三种：</p> <ul><li><code>public</code>：公有的，在任何地方都可以访问到。</li> <li><code>protected</code>：受保护的，只能在类的内部及其类的子类内部使用。</li> <li><code>private</code>：私有的，只能在类的内部进行使用。</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token keyword">protected</span> address<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">sayHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my addresss is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token comment">// my address is 广东广州</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        <span class="token comment">// my name is why</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>          <span class="token comment">// 编译报错</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token string">'广东广州'</span><span class="token punctuation">,</span> <span class="token string">'why'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token comment">// why</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span>     <span class="token comment">// 编译报错</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>address<span class="token punctuation">)</span> <span class="token comment">// 编译报错</span>
</code></pre></div><h4 id="只读属性"><a href="#只读属性" class="header-anchor">#</a> 只读属性</h4> <p>可以使用<code>readonly</code>关键字来表示属性是只读的。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token keyword">public</span> <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'AAA'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment">// AAA</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'BBB'</span>       <span class="token comment">// 编译报错 </span>
</code></pre></div><h4 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h4> <p>在<code>TypeScript</code>中，可以使用<code>abstract</code>关键字来定义抽象类以及抽象类中的抽象方法，在使用抽象类的过程中，有几点需要注意：</p> <ul><li>抽象类不能被实例化，只能被继承。</li> <li>抽象类中的抽象方法必须被子类实现。</li></ul> <p>抽象类不能被实例化：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'why'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token comment">// why</span>
<span class="token keyword">const</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 编译报错</span>
</code></pre></div><p>抽象类中的抽象方法必须被子类实现：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token keyword">abstract</span> <span class="token function">eat</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  <span class="token comment">// 子类必须实现抽象类中的抽象方法</span>
  <span class="token function">eat</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'person is eating'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'why'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token comment">// why</span>
person<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment">// person is eating</span>
</code></pre></div><h3 id="类和接口"><a href="#类和接口" class="header-anchor">#</a> 类和接口</h3> <h4 id="类实现接口"><a href="#类实现接口" class="header-anchor">#</a> 类实现接口</h4> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>一个类可以实现一个或者多个接口，用逗号分隔。</p></div> <p>如果我们定义了一个接口，然后类去实现它，那么这个接口中的属性和方法，在类中必须全部都要存在，否则会编译报错。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token function">sayHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token function">sayHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="接口继承接口"><a href="#接口继承接口" class="header-anchor">#</a> 接口继承接口</h4> <p>在上面的案例中，我们使用到了类实现接口，其实一个接口还可以继承自另外一个接口。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token function">sayHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token comment">// Person接口继承了Animal，就拥有了Animal种所有的属性和方法</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token function">sayHello</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="接口继承类"><a href="#接口继承类" class="header-anchor">#</a> 接口继承类</h4> <p>在有些语言中，接口一般而言是不能继承类的，但在<code>TypeScript</code>中是可以继承的，接口继承类以后，就拥有类中所有的属性和方法。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Point3d</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  z<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> point3d<span class="token operator">:</span> Point3d <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  y<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  z<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point3d<span class="token punctuation">)</span>  <span class="token comment">// { x: 10, y: 10, z: 10 }</span>
</code></pre></div><h3 id="泛型"><a href="#泛型" class="header-anchor">#</a> 泛型</h3> <p>泛型<code>generics</code>是指在定义函数、接口和类的时候，不预先指定其具体类型，而在使用的时候再去指定的一种特性。</p> <h4 id="函数中的泛型"><a href="#函数中的泛型" class="header-anchor">#</a> 函数中的泛型</h4> <p>假设我们有如下一个函数，其中参数<code>a</code>和<code>b</code>接受的类型必须为相同的类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">join</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们在没有了解到泛型之前，我们可以用联合类型来定义：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">join</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
</code></pre></div><p>代码分析：在以上的例子中，我们仅仅只是规定了<code>a</code>和<code>b</code>参数必须是<code>number</code>类型或者<code>string</code>类型，但并没有办法来限制<code>a</code>和<code>b</code>必须是同一个类型。这个时候我们可以使用泛型来表示：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">join</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 12    </span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// 编译报错</span>
</code></pre></div><p><strong>注意</strong>：我们在调用<code>join()</code>函数并进行传参的时候，<code>TypeScript</code>会自动帮我们推断参数的类型，以上三行代码也可以像如下方式进行撰写：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">join</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 12    </span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">join</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">join</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// 编译报错</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>泛型可以是多个的。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">join</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token operator">&gt;</span></span></span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 12    </span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// 12</span>
</code></pre></div><p>代码分析：在以上的案例中，<code>join</code>方法接受2个泛型类型，其中参数<code>a:T</code>，参数<code>b:p</code>，因此<code>console.log(join(1, '2'))</code>会正确被编译并输出12。</p> <h4 id="类中的泛型"><a href="#类中的泛型" class="header-anchor">#</a> 类中的泛型</h4> <p>泛型同样可以使用在类中。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">CreateClass<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  zeroValue<span class="token operator">:</span> <span class="token constant">T</span>
  <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> createNumber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateClass<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
createNumber<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>
<span class="token keyword">let</span> createString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateClass<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
createString<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>createNumber<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 3</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>createString<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>在<code>TypeScript@2.3+</code>以后的版本，我们可以为泛型提供一个默认值。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">CreateClass<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">number</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  zeroValue<span class="token operator">:</span> <span class="token constant">T</span>
  <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> createNumber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
createNumber<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>
<span class="token keyword">let</span> createString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateClass<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
createString<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>createNumber<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 3</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>createString<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>
</code></pre></div><p>代码分析：在<code>CreateClass</code>类的定义部分，我们为泛型提供了一个默认值<code>number</code>，因此我们在实例<code>createNumber</code>初始化的时候就可以不用传递<code>number</code>了。</p> <h4 id="接口中的泛型"><a href="#接口中的泛型" class="header-anchor">#</a> 接口中的泛型</h4> <p>像在类中一样，泛型可以存在于接口中。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">CreateArray</span> <span class="token punctuation">{</span>
  <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> createArrayFunc<span class="token operator">:</span> <span class="token function-variable function">CreateArray</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>length<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">createArrayFunc</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'AAA'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// ['AAA', 'AAA', 'AAA']</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">createArrayFunc</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// [true, true]</span>
</code></pre></div><h3 id="声明合并"><a href="#声明合并" class="header-anchor">#</a> 声明合并</h3> <p>如果定义了两个相同名字的函数、接口或类，那么它们会合并成一个类型。
声明合并，我们在上面已经有实例的案例了，那就是函数的重载。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'number'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> b <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> b
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">// 3</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 12</span>
</code></pre></div><p>当重复定义同一个接口时，会进行接口合并：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span>
<span class="token comment">// 相当于</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>当合并的属性类型不一致时，会报错。</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token comment">// 报错，name类型冲突</span>
  name<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">23</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="命名空间"><a href="#命名空间" class="header-anchor">#</a> 命名空间</h3> <p>在我们以上所有案例中，我们编写的代码大多数是运行在<code>Node</code>环境下的，接下来我们来编写一些代码，让其在浏览器环境中运行。</p> <p>首先我们需要创建如下的项目以及目录结构：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token operator">|</span>-- TypeScript
<span class="token operator">|</span>   <span class="token operator">|</span>-- dist
<span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>-- index.html
<span class="token operator">|</span>   <span class="token operator">|</span>-- src
<span class="token operator">|</span>   <span class="token operator">|</span>   <span class="token operator">|</span>-- page.ts
<span class="token operator">|</span>   <span class="token operator">|</span>-- tsconfig.json
</code></pre></div><p>其中，<code>tsconfig.json</code>的配置如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>                
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在配置完<code>tsconfig.json</code>以后，我们来撰写<code>page.ts</code>中的代码：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
    dom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Header'</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
    dom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Content'</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
    dom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Footer'</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token class-name">Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token class-name">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>编写完以上代码后，我们运行如下命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 编译src下的*.ts文件到dist目录下</span>
$ tsc
</code></pre></div><p>随后我们在<code>dist/index.html</code>中引用我们刚刚编译的代码：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./page.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>当我们在浏览器中运行<code>index.html</code>文件后，我们可以在浏览器下正确的看到我们想要的输出内容。</p> <p>当我们在打开<code>page.js</code>文件时，我们可以发现：
<img src="/blog/assets/img/1.633739e7.png" alt="page.js代码"></p> <p><strong>在全局作用域环境下，我们一次性引入了四个全局变量</strong>：<code>Header</code>、<code>Content</code>、<code>Footer</code>和<code>Page</code>。要解决这个问题，我们可以使用<code>namespace</code>命令空间：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 使用命名空间包裹我们的代码并把Page类导出出去</span>
<span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      dom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Header'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      dom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Content'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      dom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Footer'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">new</span> <span class="token class-name">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">new</span> <span class="token class-name">Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">new</span> <span class="token class-name">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>随后，再次使用<code>tsc</code>命令重新编译代码，编译后的<code>page.js</code>如下：
<img src="/blog/assets/img/2.f2eb95fe.png" alt="Page.js代码"></p> <p>再次修改<code>index.html</code>中的代码，我们依然能够得到跟前面示例代码一样的输出结果：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./page.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">new</span> <span class="token class-name">Home<span class="token punctuation">.</span>Page</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">8/28/2023, 2:20:54 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.e2b3f633.js" defer></script><script src="/blog/assets/js/3.8b672db4.js" defer></script><script src="/blog/assets/js/2.e585f687.js" defer></script><script src="/blog/assets/js/35.781d2240.js" defer></script>
  </body>
</html>
